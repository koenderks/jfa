<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Selecting statistical audit samples • jfa</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Selecting statistical audit samples">
<meta property="og:description" content="jfa">
<meta property="og:image" content="https://koenderks.github.io/jfa/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jfa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.7.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/jfa.html">Get started</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/koenderks/jfa" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/koenderks/jfa/discussions" class="external-link">
    <span class="fa fa-users"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Selecting statistical audit samples</h1>
                        <h4 data-toc-skip class="author">Koen Derks</h4>
            
            <h4 data-toc-skip class="date">2023-12-02</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/koenderks/jfa/blob/HEAD/vignettes/sample-selection.Rmd" class="external-link"><code>vignettes/sample-selection.Rmd</code></a></small>
      <div class="hidden name"><code>sample-selection.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette outlines the most commonly used sampling methodology
for auditing and demonstrates how to use the <strong>jfa</strong>
package to select a sample using these techniques.</p>
<p align="center">
<img src="selection.png" alt="selection" width="100%"></p>
<p>Auditors often need to evaluate balances or processes that involve a
large number of items or units. As it is not feasible to individually
inspect all of these items or units, they must select a subset (i.e., a
sample) from the population to make a statement about a specific
characteristic (often the misstatement) of the population. Various
sampling methods, which have become standard practice in the field of
auditing, are available for this purpose <span class="citation">(Leslie
et al., 1979)</span>.</p>
<div class="section level3">
<h3 id="sampling-units">Sampling units<a class="anchor" aria-label="anchor" href="#sampling-units"></a>
</h3>
<p>Selecting a subset of items or units from the population requires
knowledge of the sampling units, which are physical representations of
the population that needs to be audited. Typically, the auditor must
decide between two types of sampling units: individual items in the
population or individual monetary units in the population. To conduct
statistical selection, the population must be segmented into individual
sampling units, each of which can be assigned a probability of being
included in the sample. The complete collection of all sampling units
assigned a selection probability is known as the sampling frame.</p>
<div class="section level4">
<h4 id="items">Items<a class="anchor" aria-label="anchor" href="#items"></a>
</h4>
<p>A sampling unit for record (i.e., attributes) sampling is usually a
characteristic of an item in the population. For instance, if you are
inspecting a population of receipts, a potential sampling unit for
record sampling could be the date of payment of the receipt. When a
sampling unit (e.g., date of payment) is indicated by the sampling
method, the population item corresponding to the sampled unit is
included in the sample.</p>
</div>
<div class="section level4">
<h4 id="monetary-units">Monetary units<a class="anchor" aria-label="anchor" href="#monetary-units"></a>
</h4>
<p>A sampling unit for monetary unit sampling differs from a sampling
unit for record sampling in that it is an individual monetary unit
within an item or transaction, like an individual dollar. For example, a
single sampling unit could be the 10<span class="math inline">\(^{th}\)</span> dollar from a specific receipt in
the population. When a sampling unit (e.g., individual dollar) is
indicated by the sampling method, the population item containing the
sampling unit is included in the sample.</p>
</div>
</div>
<div class="section level3">
<h3 id="sampling-methods">Sampling methods<a class="anchor" aria-label="anchor" href="#sampling-methods"></a>
</h3>
<p>This section discusses the four sampling methods implemented in
<strong>jfa</strong>. First, for notation, let the the population <span class="math inline">\(N\)</span> be defined as the total set of
individual sampling units: <span class="math inline">\(N = \{x_1, x_2,
\dots, x_N\}\)</span>. In statistical sampling, every sampling unit
<span class="math inline">\(x_i\)</span> in the population must receive
a selection probability <span class="math inline">\(p(x_i)\)</span>.</p>
<p>The purpose of the sampling method is to provide a framework to
assign selection probabilities <span class="math inline">\(p(x_i)\)</span> to each of the sampling units, and
subsequently draw sampling units from the population until a set of size
<span class="math inline">\(n\)</span> has been created. To illustrate
the outcomes of different sampling methods on the same data set, we will
use the <code>BuildIt</code> data set that is included in the package.
This data set can be loaded via the command below.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">BuildIt</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">BuildIt</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##      ID bookValue auditValue</span></span>
<span><span class="co">## 1 82884    242.61     242.61</span></span>
<span><span class="co">## 2 25064    642.99     642.99</span></span>
<span><span class="co">## 3 81235    628.53     628.53</span></span>
<span><span class="co">## 4 71769    431.87     431.87</span></span>
<span><span class="co">## 5 55080    620.88     620.88</span></span>
<span><span class="co">## 6 93224    501.76     501.76</span></span></code></pre>
<div class="section level4">
<h4 id="fixed-interval-sampling">Fixed interval sampling<a class="anchor" aria-label="anchor" href="#fixed-interval-sampling"></a>
</h4>
<p>Fixed interval sampling (a.k.a. systematic sampling) is a method
designed to generate representative samples from monetary populations.
This algorithm establishes a uniform interval on the sampling units.
Following this, a starting point is either manually chosen or randomly
selected within the first interval. A sampling unit is then selected at
each of the uniform intervals from this starting point throughout the
population, see Figure 1.</p>
<center>
<div class="figure">
<img src="fixedIntervalSampling.png" alt=""><p class="caption">Figure 1: Illustration of fixed interval sampling</p>
</div>
</center>
<p>The number of required intervals <span class="math inline">\(I\)</span> can be calculated by dividing the total
number of sampling units in the population <span class="math inline">\(N\)</span> by the desired sample size <span class="math inline">\(n\)</span>: <span class="math inline">\(I\)</span>
= <span class="math inline">\(\frac{N}{n}\)</span>. For example, if the
total population consists of <span class="math inline">\(N\)</span> =
1000 units and the desired sample size is <span class="math inline">\(n\)</span> = 100 units, the interval would be
<span class="math inline">\(I\)</span> = 10 sampling units wide. If,
subsequently, the 5<span class="math inline">\(^{\text{th}}\)</span>
sampling unit is chosen as the starting point in the first interval, the
sampling units 5, 15, 25, etc., are selected to be included in the
sample. It is important to note that this selection is entirely
deterministic and depends on the chosen starting point (specified via
<code>start</code>).</p>
<p>The fixed interval method provides a sample where each sampling unit
in the population has an equal chance of being selected. However, this
method ensures that all items in the population with a monetary value
larger than the interval width <span class="math inline">\(I\)</span>
are always included in the sample, as one of these items’ sampling units
will always be selected from the interval. If the population is randomly
arranged with respect to its deviation pattern, fixed interval sampling
is equivalent to random selection.</p>
<p><strong>Advantage(s):</strong> The fixed interval sampling method is
often easy to understand and quick to execute. In monetary unit
sampling, all items larger than the calculated interval are included in
the sample. In record sampling, since units can be ranked based on
value, there is a guarantee that some large items will be included in
the sample.</p>
<p><strong>Disadvantage(s):</strong> A pattern in the population may
align with the selected interval, making the sample less representative.
An additional complication with this method is that it is difficult to
extend the sample after the initial sample has been drawn due to the
possibility of selecting the same sampling unit. However, this problem
can be efficiently solved by removing the already selected sampling
units from the population and redrawing the intervals.</p>
<p>The code below demonstrates how to apply the fixed interval sampling
method in both a record sampling and a monetary unit sampling setting.
By default, the first sampling unit from each interval is selected.
However, this can be changed by setting the argument
<code>start = 1</code> to a different value.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Record sampling</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection.html">selection</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"items"</span>, method <span class="op">=</span> <span class="st">"interval"</span>, start <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">[[</span><span class="st">"sample"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   row times    ID bookValue auditValue</span></span>
<span><span class="co">## 1   1     1 82884    242.61     242.61</span></span>
<span><span class="co">## 2  36     1 80125    118.58     118.58</span></span>
<span><span class="co">## 3  71     1 27566    481.44     481.44</span></span>
<span><span class="co">## 4 106     1 88261    266.66     266.66</span></span>
<span><span class="co">## 5 141     1 58999    568.60     568.60</span></span>
<span><span class="co">## 6 176     1 27801    314.65     314.65</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Monetary unit sampling</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection.html">selection</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"values"</span>, method <span class="op">=</span> <span class="st">"interval"</span>, values <span class="op">=</span> <span class="st">"bookValue"</span>, start <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">[[</span><span class="st">"sample"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   row times    ID bookValue auditValue</span></span>
<span><span class="co">## 1   1     1 82884    242.61     242.61</span></span>
<span><span class="co">## 2  38     1 57172    329.30     329.30</span></span>
<span><span class="co">## 3  73     1 90160    205.69     205.69</span></span>
<span><span class="co">## 4 110     1  4756    295.96     295.96</span></span>
<span><span class="co">## 5 146     1 90183    333.28     333.28</span></span>
<span><span class="co">## 6 183     1 96080    449.07     449.07</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="cell-sampling">Cell sampling<a class="anchor" aria-label="anchor" href="#cell-sampling"></a>
</h4>
<p>The cell sampling method splits the population into the same set of
intervals <span class="math inline">\(I\)</span> used by fixed interval
sampling. However, unlike fixed interval sampling, a sampling unit is
selected within each interval by randomly drawing a number between 1 and
the interval range <span class="math inline">\(I\)</span>. This results
in a variable space <span class="math inline">\(i\)</span> between the
sampling units, as shown in Figure 2.</p>
<center>
<div class="figure">
<img src="cellSampling.png" alt=""><p class="caption">Figure 2: Illustration of cell sampling</p>
</div>
</center>
<p>This method ensures that all items in the population with a monetary
value larger than twice the interval <span class="math inline">\(I\)</span> are always included in the sample, as
one of these items’ sampling units will always be selected from one of
the two intervals.</p>
<p><strong>Advantage(s):</strong> Unlike fixed interval sampling, which
has a systematic interval <span class="math inline">\(i\)</span> to
determine selections, cell sampling allows for more possible sets of
samples. It is argued that the cell sampling algorithm addresses the
pattern problem found in fixed interval sampling.</p>
<p><strong>Disadvantage(s):</strong> Cell sampling has a drawback in
that not all items in the population with a monetary value larger than
the interval are always included in the sample. Additionally, population
items can be located in two adjacent intervals, creating the possibility
of an item being included in the sample twice.</p>
<p>The code below demonstrates how to apply the cell sampling method in
both a record sampling and a monetary unit sampling setting. Since this
algorithm involves random number generation, it is important to set a
seed via <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code> to ensure the results are
reproducible.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Record sampling</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection.html">selection</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"items"</span>, method <span class="op">=</span> <span class="st">"cell"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">[[</span><span class="st">"sample"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   row times    ID bookValue auditValue</span></span>
<span><span class="co">## 1   9     1 14608    216.48     216.48</span></span>
<span><span class="co">## 2  48     1 45437    347.94     139.18</span></span>
<span><span class="co">## 3  90     1 90333    241.17     241.17</span></span>
<span><span class="co">## 4 136     1 45746    440.72     440.72</span></span>
<span><span class="co">## 5 147     1 72906    677.62     677.62</span></span>
<span><span class="co">## 6 206     1 93529    528.79     528.79</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Monetary unit sampling</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection.html">selection</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"values"</span>, method <span class="op">=</span> <span class="st">"cell"</span>, values <span class="op">=</span> <span class="st">"bookValue"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">[[</span><span class="st">"sample"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   row times    ID bookValue auditValue</span></span>
<span><span class="co">## 1   8     1 81460    295.20     295.20</span></span>
<span><span class="co">## 2  53     1 80645    677.88     677.88</span></span>
<span><span class="co">## 3  92     1 75133    355.16     355.16</span></span>
<span><span class="co">## 4 142     1 68676    612.46     612.46</span></span>
<span><span class="co">## 5 153     1 63777    552.83     552.83</span></span>
<span><span class="co">## 6 214     1 25379   1021.07    1021.07</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="random-sampling">Random sampling<a class="anchor" aria-label="anchor" href="#random-sampling"></a>
</h4>
<p>Random sampling is the simplest and most straightforward selection
method. This method allows every sampling unit in the population an
equal chance of being selected, meaning that every combination of
sampling units has the same probability of being selected as every other
combination of the same number of sampling units. In essence, the
algorithm draws a random selection of size <span class="math inline">\(n\)</span> from the sampling units, as illustrated
in Figure 3.</p>
<center>
<div class="figure">
<img src="randomSampling.png" alt=""><p class="caption">Figure 3: Illustration of random sampling</p>
</div>
</center>
<p><strong>Advantage(s):</strong> The random sampling method produces an
optimal random selection, with the added benefit that the sample can be
easily extended by reapplying the same method.</p>
<p><strong>Disadvantages:</strong> Since the selection probabilities are
equal for all sampling units, there is no guarantee that items in the
population with a large monetary value will be included in the
sample.</p>
<p>The code below demonstrates how to apply the random sampling method
(with or without replacement using <code>replace</code>) in both a
record sampling and a monetary unit sampling setting. Since this
algorithm involves random number generation, it is important to set a
seed via <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code> to ensure the results are
reproducible.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Record sampling</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection.html">selection</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"items"</span>, method <span class="op">=</span> <span class="st">"random"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">[[</span><span class="st">"sample"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    row times    ID bookValue auditValue</span></span>
<span><span class="co">## 1 1017     1 50755    618.24     618.24</span></span>
<span><span class="co">## 2  679     1 20237    669.75     669.75</span></span>
<span><span class="co">## 3 2177     1  9517    454.02     454.02</span></span>
<span><span class="co">## 4  930     1 85674    257.82     257.82</span></span>
<span><span class="co">## 5 1533     1 31051    308.53     308.53</span></span>
<span><span class="co">## 6  471     1 84375    824.66     824.66</span></span></code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Monetary unit sampling</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection.html">selection</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"values"</span>, method <span class="op">=</span> <span class="st">"random"</span>, values <span class="op">=</span> <span class="st">"bookValue"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">[[</span><span class="st">"sample"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    row times    ID bookValue auditValue</span></span>
<span><span class="co">## 1 2174     1 90260    625.98     625.98</span></span>
<span><span class="co">## 2 2928     1 68595    548.21     548.21</span></span>
<span><span class="co">## 3 1627     1 98301    429.07     429.07</span></span>
<span><span class="co">## 4  700     1 29683    239.26     239.26</span></span>
<span><span class="co">## 5  147     1 72906    677.62     677.62</span></span>
<span><span class="co">## 6 3056     1 86317    246.22     246.22</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="modified-sieve-sampling">Modified sieve sampling<a class="anchor" aria-label="anchor" href="#modified-sieve-sampling"></a>
</h4>
<p>The fourth and final sampling method option is modified sieve
sampling <span class="citation">(Hoogduin et al., 2010)</span>. This
algorithm begins by selecting a standard uniform random number <span class="math inline">\(R_i\)</span> between 0 and 1 for each item in the
population. Then, the sieve ratio <span class="math inline">\(S_i\)</span> = <span class="math inline">\(\frac{Y_i}{R_i}\)</span> is calculated for each
item by dividing the book value of the item by the random number.
Finally, the items in the population are sorted by their sieve ratio
<span class="math inline">\(S_i\)</span> in descending order, and the
top <span class="math inline">\(n\)</span> items are chosen to be
included in the sample. Unlike the classical sieve sampling method <span class="citation">(Rietveld, 1978)</span>, the modified sieve sampling
method allows for precise control over sample sizes.</p>
<p>The code below demonstrates how to apply the modified sieve sampling
method in a monetary unit sampling setting. Since this algorithm
involves random number generation, it is important to set a seed via
<code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code> to ensure the results are reproducible. Also
note that since this algorithm requires the book values of the items, it
is not possible to apply in a record sampling setting.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Monetary unit sampling</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection.html">selection</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"values"</span>, method <span class="op">=</span> <span class="st">"sieve"</span>, values <span class="op">=</span> <span class="st">"bookValue"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">[[</span><span class="st">"sample"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    row times    ID bookValue auditValue</span></span>
<span><span class="co">## 1 2329     1 29919    681.10     681.10</span></span>
<span><span class="co">## 2 2883     1 59402    279.29     279.29</span></span>
<span><span class="co">## 3 1949     1 56012    581.22     581.22</span></span>
<span><span class="co">## 4 3065     1 47482    621.73     621.73</span></span>
<span><span class="co">## 5 1072     1 79901    789.97     789.97</span></span>
<span><span class="co">## 6  488     1 50811    651.35     651.35</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="ordering-or-randomizing-the-population">Ordering or randomizing the population<a class="anchor" aria-label="anchor" href="#ordering-or-randomizing-the-population"></a>
</h3>
<p>The <code><a href="../reference/selection.html">selection()</a></code> function offers additional arguments
(<code>order</code>, <code>decreasing</code>, and
<code>randomize</code>) that enable you to preprocess your population
before selection. The <code>order</code> argument takes the name of a
column in <code>data</code> as input, and the function then sorts the
population based on this column. The <code>decreasing</code> argument
specifies whether the population is sorted from lowest to highest (when
<code>decreasing = FALSE</code>) or from highest to lowest (when
<code>decreasing = TRUE</code>).</p>
<p>For instance, if you wish to sort the population from the lowest to
the highest book value (found in the <code>bookValue</code> column)
before starting monetary unit sampling, you should use
<code>order = "bookValue"</code> along with the
<code>decreasing = FALSE</code> argument.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection.html">selection</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"values"</span>, values <span class="op">=</span> <span class="st">"bookValue"</span>,</span>
<span>  order <span class="op">=</span> <span class="st">"bookValue"</span>, decreasing <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">[[</span><span class="st">"sample"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    row times    ID bookValue auditValue</span></span>
<span><span class="co">## 1 2662     1 30568     14.47      14.47</span></span>
<span><span class="co">## 2 2923     1 63567    125.21     125.21</span></span>
<span><span class="co">## 3 2542     1 95807    153.56     153.56</span></span>
<span><span class="co">## 4  101     1 64282    172.65     172.65</span></span>
<span><span class="co">## 5  838     1 43352    188.72     188.72</span></span>
<span><span class="co">## 6  302     1 94296    198.59     198.59</span></span></code></pre>
<p>In addition, the <code>randomize = TRUE</code> argument can be used
to randomly shuffle the items in the population before selection. By
default, no randomization is applied.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection.html">selection</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  units <span class="op">=</span> <span class="st">"values"</span>, values <span class="op">=</span> <span class="st">"bookValue"</span>, randomize <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">[[</span><span class="st">"sample"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    row times    ID bookValue auditValue</span></span>
<span><span class="co">## 1 1017     1 50755    618.24     618.24</span></span>
<span><span class="co">## 2 2159     1  3653    492.39     492.39</span></span>
<span><span class="co">## 3 1639     1 39570    307.54     307.54</span></span>
<span><span class="co">## 4 2698     1   225    507.18     507.18</span></span>
<span><span class="co">## 5  355     1 27934    749.38     749.38</span></span>
<span><span class="co">## 6 1242     1 64071    759.34     759.34</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-hoogduin_2010" class="csl-entry">
Hoogduin, L., Hall, T. W., &amp; Tsay, J. J. (2010). Modified sieve
sampling: A method for single-and multi-stage
probability-proportional-to-size sampling. <em>Auditing: A Journal of
Practice &amp; Theory</em>, <em>29</em>(1), 125–148. <a href="https://doi.org/10.2308/aud.2010.29.1.125" class="external-link">https://doi.org/10.2308/aud.2010.29.1.125</a>
</div>
<div id="ref-leslie_1979" class="csl-entry">
Leslie, D. A., Teitlebaum, A. D., &amp; Anderson, R. J. (1979).
<em>Dollar-unit sampling: A practical guide for auditors</em>. Pitman.
</div>
<div id="ref-rietveld_1978" class="csl-entry">
Rietveld, C. (1978). De zeefmethode als selectiemethode voor
statistische steekproeven in de controlepraktijk (1). <em>Compact:
Computer En Accountant</em>, <em>15</em>, 2–11.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://koenderks.com" class="external-link">Koen Derks</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
