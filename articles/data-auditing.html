<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data auditing: Get started • jfa</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Data auditing: Get started">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jfa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.7.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="../articles/jfa.html">Get started</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/koenderks/jfa" class="external-link">
    <span class="fa fa-github"></span>

  </a>
</li>
<li>
  <a href="https://github.com/koenderks/jfa/discussions" class="external-link">
    <span class="fa fa-users"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Data auditing: Get started</h1>
                        <h4 data-toc-skip class="author">Koen Derks</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/koenderks/jfa/blob/development/vignettes/articles/data-auditing.Rmd" class="external-link"><code>vignettes/articles/data-auditing.Rmd</code></a></small>
      <div class="hidden name"><code>data-auditing.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Welcome to the ‘Data auditing’ vignette of the <strong>jfa</strong>
package. This page provides a straightforward guide to the functions in
the package that are designed to facilitate data auditing. Specifically,
these functions implement techniques to test the distribution of
(leading or last) digits against a reference distribution (e.g.,
Benford’s law), and techniques to assess whether values are repeated
more frequently than expected. The package enables users to specify a
prior probability distribution to perform Bayesian data auditing with
these functions.</p>
</div>
<div class="section level2">
<h2 id="functions-and-intended-usage">Functions and intended usage<a class="anchor" aria-label="anchor" href="#functions-and-intended-usage"></a>
</h2>
<p>Below you can find an explanation of the available data auditing
functions in <strong>jfa</strong>.</p>
<ul>
<li><a href="#testing-digit-distributions"><code>digit_test()</code></a></li>
<li><a href="#testing-for-repeated-values"><code>repeated_test()</code></a></li>
</ul>
<div class="section level3">
<h3 id="testing-digit-distributions">Testing digit distributions<a class="anchor" aria-label="anchor" href="#testing-digit-distributions"></a>
</h3>
<p>The <code><a href="../reference/digit_test.html">digit_test()</a></code> function accepts a vector of numeric
values, extracts the requested digits, and compares the frequencies of
these digits to a reference distribution. By default, the function
performs a frequentist hypothesis test of the null hypothesis that the
digits are distributed according to the reference distribution, and
produces a <em>p</em>-value. When a prior is specified, the function
performs a Bayesian hypothesis test of the null hypothesis that the
digits are distributed according to the reference distribution against
the alternative hypothesis that the digits are not distributed according
to the reference distribution, and produces a Bayes factor <span class="citation">(Kass &amp; Raftery, 1995)</span>. The function returns
an object that can be used with the associated <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>
and <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> methods.</p>
<p>For additional details about this function, please refer to the <a href="https://koenderks.github.io/jfa/reference/digit_test.html">function
documentation</a> on the package website.</p>
<p><em>Example usage:</em></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compare first digits to Benford's law</span></span>
<span><span class="fu"><a href="../reference/digit_test.html">digit_test</a></span><span class="op">(</span><span class="va">sinoForest</span><span class="op">[[</span><span class="st">"value"</span><span class="op">]</span><span class="op">]</span>, check <span class="op">=</span> <span class="st">"first"</span>, reference <span class="op">=</span> <span class="st">"benford"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Classical Digit Distribution Test</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## data:  sinoForest[["value"]]</span></span>
<span><span class="co">## n = 772, MAD = 0.0065981, X-squared = 7.6517, df = 8, p-value = 0.4682</span></span>
<span><span class="co">## alternative hypothesis: leading digit(s) are not distributed according to the benford distribution.</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="testing-for-repeated-values">Testing for repeated values<a class="anchor" aria-label="anchor" href="#testing-for-repeated-values"></a>
</h3>
<p>The <code><a href="../reference/repeated_test.html">repeated_test()</a></code> function analyzes the frequency with
which values are repeated within a set of numbers. Unlike Benford’s law,
and its generalizations, this approach examines the entire number at
once, not only the first or last digit. For the technical details of
this procedure, see <span class="citation">(Simonsohn, 2019)</span>. The
function returns an object that can be used with the associated
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> and <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> methods.</p>
<p>For additional details about this function, please refer to the <a href="https://koenderks.github.io/jfa/reference/repeated_test.html">function
documentation</a> on the package website.</p>
<p><em>Example usage:</em></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Inspect last two digits for repeated values</span></span>
<span><span class="fu"><a href="../reference/repeated_test.html">repeated_test</a></span><span class="op">(</span><span class="va">sanitizer</span><span class="op">[[</span><span class="st">"value"</span><span class="op">]</span><span class="op">]</span>, check <span class="op">=</span> <span class="st">"lasttwo"</span>, samples <span class="op">=</span> <span class="fl">5000</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Classical Repeated Values Test</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## data:  sanitizer[["value"]]</span></span>
<span><span class="co">## n = 1600, AF = 1.5225, p-value = 0.0022</span></span>
<span><span class="co">## alternative hypothesis: average frequency in data is greater than for random data.</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="benchmarks">Benchmarks<a class="anchor" aria-label="anchor" href="#benchmarks"></a>
</h2>
<p>To ensure the accuracy of statistical results, <strong>jfa</strong>
employs automated <a href="https://github.com/koenderks/jfa/tree/development/tests/testthat" class="external-link">unit
tests</a> that regularly validate the output from the package against
the following established benchmarks in the area of data auditing:</p>
<ul>
<li>
<a href="https://cran.r-project.org/package=benford.analysis" class="external-link">benford.analysis</a>
(R package version 0.1.5)</li>
<li>
<a href="https://cran.r-project.org/package=BenfordTests" class="external-link">BenfordTests</a>
(R package version 1.2.0)</li>
<li>
<a href="https://cran.r-project.org/package=BeyondBenford" class="external-link">BeyondBenford</a>
(R package version 1.4)</li>
</ul>
</div>
<div class="section level2">
<h2 id="cheat-sheet">Cheat sheet<a class="anchor" aria-label="anchor" href="#cheat-sheet"></a>
</h2>
<p>The cheat sheet below will help you get started with
<strong>jfa</strong>’s data audit functionality. A pdf version can be
downloaded <a href="https://github.com/koenderks/jfa/raw/development/man/figures/cheatsheet/cheatsheet-data.pdf" class="external-link">here</a>.</p>
<p align="center">
<img src="cheatsheet-data.png" alt="cheatsheet-data" width="1000"></p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0" line-spacing="2">
<div id="ref-cinelli_2018" class="csl-entry">
Cinelli, C. (2018). <em>Benford.analysis: Benford analysis for data
validation and forensic analytics</em>. <a href="https://CRAN.R-project.org/package=benford.analysis" class="external-link">https://CRAN.R-project.org/package=benford.analysis</a>
</div>
<div id="ref-joenssen_2015" class="csl-entry">
Joenssen, D. W. (2015). <em>BenfordTests: Statistical tests for
evaluating conformity to benford’s law</em>. <a href="https://CRAN.R-project.org/package=BenfordTests" class="external-link">https://CRAN.R-project.org/package=BenfordTests</a>
</div>
<div id="ref-kass_1995" class="csl-entry">
Kass, R. E., &amp; Raftery, A. E. (1995). Bayes factors. <em>Journal of
the American Statistical Association</em>, <em>90</em>(430), 773–795. <a href="https://doi.org/10.1080/01621459.1995.10476572" class="external-link">https://doi.org/10.1080/01621459.1995.10476572</a>
</div>
<div id="ref-simonsohn_2019" class="csl-entry">
Simonsohn, U. (2019). <em>Number-bunching: A new tool for forensic data
analysis</em>. <a href="https://datacolada.org/77" class="external-link">https://datacolada.org/77</a>
</div>
<div id="ref-stephane_2020" class="csl-entry">
Stephane, B. D. S. (2020). <em>BeyondBenford: Compare the goodness of
fit of benford’s and blondeau da silva’s digit distributions to a given
dataset</em>. <a href="https://CRAN.R-project.org/package=BeyondBenford" class="external-link">https://CRAN.R-project.org/package=BeyondBenford</a>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://koenderks.com" class="external-link">Koen Derks</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
