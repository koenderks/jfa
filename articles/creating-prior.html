<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Creating a prior distribution for audit sampling • jfa</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Creating a prior distribution for audit sampling">
<meta property="og:description" content="jfa">
<meta property="og:image" content="https://koenderks.github.io/jfa/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jfa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/jfa.html">Get started</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/koenderks/jfa" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/koenderks/jfa/discussions" class="external-link">
    <span class="fa fa-users"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Creating a prior distribution for audit
sampling</h1>
                        <h4 data-toc-skip class="author">Koen Derks</h4>
            
            <h4 data-toc-skip class="date">2022-12-15</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/koenderks/jfa/blob/HEAD/vignettes/creating-prior.Rmd" class="external-link"><code>vignettes/creating-prior.Rmd</code></a></small>
      <div class="hidden name"><code>creating-prior.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette discusses how to set up a prior distribution for audit
sampling using the <code><a href="../reference/auditPrior.html">auditPrior()</a></code> function in the
<strong>jfa</strong> package.</p>
<p>Bayesian statistics enables auditors to incorporate existing
information about the misstatement into the sampling procedure via the
prior distribution. After observing data, the information in the prior
is updated to come to an overall conclusion about the misstatement in
the population. The advantage of using a prior distribution is that it
makes the underlying assumptions explicit and can therefore decrease the
amount of audit work required to achieve the desired assurance. For
example, when you have information from the auditee’s internal controls
that indicates a low-risk profile, this information can be incorporated
into the prior distribution in order to require less evidence from tests
of details. Note that all incorporated prior information should be
justified with appropriate audit evidence. What information can be
incorporated into the prior distribution depends on what type of
information is available, the quality of that information, and the
situation at hand.</p>
</div>
<div class="section level2">
<h2 id="creating-a-prior-distribution">Creating a prior distribution<a class="anchor" aria-label="anchor" href="#creating-a-prior-distribution"></a>
</h2>
<p>The <code><a href="../reference/auditPrior.html">auditPrior()</a></code> function is used to specify a prior
distribution for audit sampling. Below is an enumeration of the several
ways that a prior distribution can be constructed using this
function.</p>
<div class="section level3">
<h3 id="default-priors-method-default">Default priors (<code>method = 'default'</code>)<a class="anchor" aria-label="anchor" href="#default-priors-method-default"></a>
</h3>
<p>The default prior distributions are created using
<code>method = 'default'</code>. <strong>jfa</strong>’s default priors
satisfy two criteria: 1) they contain relatively little information
about the population misstatement and 2) they are proper (i.e., they
integrate to 1). The default priors in <strong>jfa</strong> are:</p>
<ul>
<li>
<code>likelihood = 'poisson'</code>: gamma(<span class="math inline">\(\alpha\)</span> = 1, <span class="math inline">\(\beta\)</span> = 1)</li>
<li>
<code>likelihood = 'binomial'</code>: beta(<span class="math inline">\(\alpha\)</span> = 1, <span class="math inline">\(\beta\)</span> = 1)</li>
<li>
<code>likelihood = 'hypergeometric'</code>: beta-binomial(N, <span class="math inline">\(\alpha\)</span> = 1, <span class="math inline">\(\beta\)</span> = 1)</li>
<li>
<code>likelihood = 'normal'</code>: normal(<span class="math inline">\(\mu\)</span> = 0, <span class="math inline">\(\sigma\)</span> = 1000)</li>
<li>
<code>likelihood = 'uniform'</code>: uniform(min = 0, max = 1)</li>
<li>
<code>likelihood = 'cauchy'</code>: Cauchy(<span class="math inline">\(x_0\)</span> = 0, <span class="math inline">\(\gamma\)</span> = 1000)</li>
<li>
<code>likelihood = 't'</code>: Student-t(df = 1)</li>
<li>
<code>likelihood = 'chisq'</code>: chi-squared(df = 1)</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"default"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">prior</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Likelihood:                    binomial </span></span>
<span><span class="co">##   Specifics:                     default prior </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Functional form:               beta(α = 1, β = 1) </span></span>
<span><span class="co">##   Mode:                          NaN </span></span>
<span><span class="co">##   Mean:                          0.5 </span></span>
<span><span class="co">##   Median:                        0.5 </span></span>
<span><span class="co">##   Variance:                      0.083333 </span></span>
<span><span class="co">##   Skewness:                      0 </span></span>
<span><span class="co">##   Information entropy (nat):     0 </span></span>
<span><span class="co">##   95 percent upper bound:        0.95 </span></span>
<span><span class="co">##   Precision:                     NaN</span></span></code></pre>
<p>All prior distributions can be visually inspected via the
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">prior</span><span class="op">)</span></span></code></pre></div>
<p><img src="creating-prior_files/figure-html/unnamed-chunk-2-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Furthermore, the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> function produces the
predictions of the prior distribution on the data level for a sample of
<code>n</code> items. For example, the command below requests the
prediction of the default beta(1, 1) prior for a hypothetical sample of
6 items.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">prior</span>, n <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##       x=0       x=1       x=2       x=3       x=4       x=5       x=6 </span></span>
<span><span class="co">## 0.1428571 0.1428571 0.1428571 0.1428571 0.1428571 0.1428571 0.1428571</span></span></code></pre>
<p>The predictions of the prior distribution can be visualized using the
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">prior</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="creating-prior_files/figure-html/unnamed-chunk-4-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="priors-with-custom-parameters-method-param">Priors with custom parameters (<code>method = 'param'</code>)<a class="anchor" aria-label="anchor" href="#priors-with-custom-parameters-method-param"></a>
</h3>
<p>You can manually specify the parameters of the prior distribution
with <code>method = 'param'</code> and the <code>alpha</code> and
<code>beta</code> arguments, which correspond to the first and
(optionally) second parameter of the prior as described above. For
example, the commands below create a beta(2, 10) prior distribution, a
normal(0.025, 0.05) prior distribution, and a Student-t(0.01) prior
distribution.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"param"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, alpha <span class="op">=</span> <span class="fl">2</span>, beta <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 2, β = 10) </span></span>
<span><span class="co">## parameters obtained via method 'param'</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"param"</span>, likelihood <span class="op">=</span> <span class="st">"normal"</span>, alpha <span class="op">=</span> <span class="fl">0.025</span>, beta <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: normal(μ = 0.025, σ = 0.05)T[0,1] </span></span>
<span><span class="co">## parameters obtained via method 'param'</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"param"</span>, likelihood <span class="op">=</span> <span class="st">"t"</span>, alpha <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: Student-t(df = 0.01)T[0,1] </span></span>
<span><span class="co">## parameters obtained via method 'param'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="improper-priors-method-strict">Improper priors (<code>method = 'strict'</code>)<a class="anchor" aria-label="anchor" href="#improper-priors-method-strict"></a>
</h3>
<p>You can construct an improper prior distribution with classical
properties using <code>method = 'strict'</code>. The posterior
distribution of from this prior yields the same results as the classical
methodology with respect to sample sizes and upper limits, but is only
proper once a single non-misstated unit is present in the sample (Derks
et al., 2022). For example, the command below creates an improper
beta(1, 0) prior distribution.</p>
<p><em>This method requires the <code>poisson</code>,
<code>binomial</code>, or <code>hypergeometric</code>
likelihood</em></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"strict"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 1, β = 0) </span></span>
<span><span class="co">## parameters obtained via method 'strict'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="impartial-priors-method-impartial">Impartial priors (<code>method = 'impartial'</code>)<a class="anchor" aria-label="anchor" href="#impartial-priors-method-impartial"></a>
</h3>
<p>You can incorporate the assumption that tolerable misstatement is
equally likely as intolerable misstatement (Derks et al., 2022) using
<code>method = 'impartial'</code>. For example, the command below
creates an impartial beta prior distribution for a performance
materiality of 5 percent.</p>
<p><em>This method requires that you specify a value for the
<code>materiality</code>.</em></p>
<p><em>This method requires the <code>poisson</code>,
<code>binomial</code>, or <code>hypergeometric</code>
likelihood</em></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"impartial"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, materiality <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 1, β = 13.513) </span></span>
<span><span class="co">## parameters obtained via method 'impartial'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="priors-with-custom-prior-probabilities-method-hyp">Priors with custom prior probabilities
(<code>method = 'hyp'</code>)<a class="anchor" aria-label="anchor" href="#priors-with-custom-prior-probabilities-method-hyp"></a>
</h3>
<p>You can manually assign prior probabilities to the hypothesis of
tolerable misstatement and the hypotheses of intolerable misstatement
(Derks et al., 2021) with <code>method = 'hyp'</code> in combination
with <code>p.hmin</code>. For example, the command below incorporates
the information that the hypothesis of tolerable misstatement has a
probability of 60% into a beta prior distribution.</p>
<p><em>This method requires that you specify a value for the
<code>materiality</code>.</em></p>
<p><em>This method requires the <code>poisson</code>,
<code>binomial</code>, or <code>hypergeometric</code>
likelihood</em></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"hyp"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, materiality <span class="op">=</span> <span class="fl">0.05</span>, p.hmin <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 1, β = 17.864) </span></span>
<span><span class="co">## parameters obtained via method 'hyp'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="priors-based-on-the-audit-risk-model-method-arm">Priors based on the Audit Risk Model
(<code>method = 'arm'</code>)<a class="anchor" aria-label="anchor" href="#priors-based-on-the-audit-risk-model-method-arm"></a>
</h3>
<p>You can translate risk assessments from the Audit Risk Model
(inherent risk and internal control risk) into a prior distribution
(Derks et al., 2021) using <code>method = 'arm'</code> in combination
with the <code>ir</code> and <code>cr</code> arguments. For example, the
command below incorporates the information that the inherent risk is
equal to 90% and internal control risk is equal to 60% into a beta prior
distribution.</p>
<p><em>This method requires the <code>poisson</code>,
<code>binomial</code>, or <code>hypergeometric</code>
likelihood</em></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"arm"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, materiality <span class="op">=</span> <span class="fl">0.05</span>, ir <span class="op">=</span> <span class="fl">0.9</span>, cr <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 1, β = 12) </span></span>
<span><span class="co">## parameters obtained via method 'arm'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="priors-based-on-the-bayesian-risk-assessment-model-method-bram">Priors based on the Bayesian Risk Assessment Model
(<code>method = 'bram'</code>)<a class="anchor" aria-label="anchor" href="#priors-based-on-the-bayesian-risk-assessment-model-method-bram"></a>
</h3>
<p>You can incorporate information about the mode and the upper bound of
the prior distribution using <code>method = 'bram'</code>. For example,
the code below incorporates the information that the mode of the prior
distribution is 1% and the upper bound is 60% into a beta prior
distribution.</p>
<p><em>This method requires the <code>poisson</code>,
<code>binomial</code>, or <code>hypergeometric</code>
likelihood</em></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"bram"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, expected <span class="op">=</span> <span class="fl">0.01</span>, materiality <span class="op">=</span> <span class="fl">0.05</span>, ub <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 1.023, β = 3.317) </span></span>
<span><span class="co">## parameters obtained via method 'bram'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="priors-based-on-an-earlier-sample-method-sample">Priors based on an earlier sample
(<code>method = 'sample'</code>)<a class="anchor" aria-label="anchor" href="#priors-based-on-an-earlier-sample-method-sample"></a>
</h3>
<p>You can incorporate information from an earlier sample into the prior
distribution (Derks et al., 2021) using <code>method = 'sample'</code>
in combination with <code>x</code> and <code>n</code>. For example, the
command below incorporates the information from an earlier sample of 30
items in which 0 misstatements were found into a beta prior
distribution.</p>
<p><em>This method requires the <code>poisson</code>,
<code>binomial</code>, or <code>hypergeometric</code>
likelihood</em></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"sample"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, x <span class="op">=</span> <span class="fl">0</span>, n <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 1, β = 30) </span></span>
<span><span class="co">## parameters obtained via method 'sample'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="priors-based-on-a-weighted-earlier-sample-method-factor">Priors based on a weighted earlier sample
(<code>method = 'factor'</code>)<a class="anchor" aria-label="anchor" href="#priors-based-on-a-weighted-earlier-sample-method-factor"></a>
</h3>
<p>You can incorporate information from last years results, weighted by
a factor (Derks et al., 2021), into the prior distribution using
<code>method = 'factor'</code> in combination with <code>x</code> and
<code>n</code>. For example, the command below incorporates the
information from a last years results (a sample of 58 items in which 0
misstatements were found), weighted by a factor 0.7, into a beta prior
distribution.</p>
<p><em>This method requires the <code>poisson</code>,
<code>binomial</code>, or <code>hypergeometric</code>
likelihood</em></p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"factor"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, x <span class="op">=</span> <span class="fl">0</span>, n <span class="op">=</span> <span class="fl">58</span>, factor <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 1, β = 40.6) </span></span>
<span><span class="co">## parameters obtained via method 'factor'</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="using-a-prior-distribution">Using a prior distribution<a class="anchor" aria-label="anchor" href="#using-a-prior-distribution"></a>
</h2>
<p>The objects returned by the <code><a href="../reference/auditPrior.html">auditPrior()</a></code> function can be
used as input for the <code>prior</code> argument in the
<code><a href="../reference/planning.html">planning()</a></code> and <code><a href="../reference/evaluation.html">evaluation()</a></code> functions. Below
is small demonstration of how the prior distribution can be constructed
using these functions.</p>
<div class="section level3">
<h3 id="planning-a-sample">Planning a sample<a class="anchor" aria-label="anchor" href="#planning-a-sample"></a>
</h3>
<p>The prior distribution can be used the planning stage to calculate a
minimum sample size by providing the objected returned by the
<code><a href="../reference/auditPrior.html">auditPrior()</a></code> function to the <code><a href="../reference/planning.html">planning()</a></code>
function. For example, the command below calculates the minimum sample
size to test the misstatement in the population against a performance
materiality of 5%, while using a beta(1, 10) prior distribution.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"param"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, alpha <span class="op">=</span> <span class="fl">1</span>, beta <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/planning.html">planning</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="fl">0.05</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, prior <span class="op">=</span> <span class="va">prior</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Bayesian Audit Sample Planning</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## minimum sample size = 49 </span></span>
<span><span class="co">## sample size obtained in 50 iterations via method 'binomial' + 'prior'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="evaluating-a-sample">Evaluating a sample<a class="anchor" aria-label="anchor" href="#evaluating-a-sample"></a>
</h3>
<p>The prior distribution can be used the evaluation stage by providing
the objected returned by the <code><a href="../reference/auditPrior.html">auditPrior()</a></code> function to the
<code><a href="../reference/evaluation.html">evaluation()</a></code> function. For example, the command below
evaluates the misstatement in the population with respect to a
performance materiality of 5% after seeing a sample of 60 items with 1
misstatement, while using a normal(0.025, 0.05) prior distribution.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"param"</span>, likelihood <span class="op">=</span> <span class="st">"normal"</span>, alpha <span class="op">=</span> <span class="fl">0.025</span>, beta <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span>
<span><span class="va">eval</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/evaluation.html">evaluation</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="fl">0.05</span>, x <span class="op">=</span> <span class="fl">1</span>, n <span class="op">=</span> <span class="fl">60</span>, prior <span class="op">=</span> <span class="va">prior</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">eval</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Bayesian Audit Sample Evaluation Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Confidence level:               0.95 </span></span>
<span><span class="co">##   Materiality:                    0.05 </span></span>
<span><span class="co">##   Hypotheses:                     H₀: Θ &gt; 0.05 vs. H₁: Θ &lt; 0.05 </span></span>
<span><span class="co">##   Method:                         poisson </span></span>
<span><span class="co">##   Prior distribution:             normal(μ = 0.025, σ = 0.05)T[0,1] </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data:</span></span>
<span><span class="co">##   Sample size:                    60 </span></span>
<span><span class="co">##   Number of errors:               1 </span></span>
<span><span class="co">##   Sum of taints:                  1 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Posterior distribution:         Determined via MCMC sampling </span></span>
<span><span class="co">##   Most likely error:              0.020033 </span></span>
<span><span class="co">##   95 percent credible interval:   [0, 0.067067] </span></span>
<span><span class="co">##   Precision:                      0.047034 </span></span>
<span><span class="co">##   BF₁₀:                            5.7554</span></span></code></pre>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">eval</span><span class="op">)</span></span></code></pre></div>
<p><img src="creating-prior_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
<p>The predictions of the posterior distribution on the data level can
be visualized using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function. For example, the
command below shows the predictions of the posterior distribution for a
hypothetical (next) sample of 10 items.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">eval</span><span class="op">$</span><span class="va">posterior</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="creating-prior_files/figure-html/unnamed-chunk-15-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li>Derks, K., de Swart, J., Wagenmakers, E.-J., and Wetzels, R. (2022).
An impartial Bayesian hypothesis test for audit sampling.
<em>PsyArXiv</em>. <a href="https://doi.org/10.31234/osf.io/8nf3e" class="external-link uri">https://doi.org/10.31234/osf.io/8nf3e</a>
</li>
<li>Derks, K., de Swart, J., van Batenburg, P., Wagenmakers, E.-J., and
Wetzels, R. (2021). Priors in a Bayesian audit: How integration of
existing information into the prior distribution can improve audit
transparency and efficiency. <em>International Journal of Auditing</em>,
25(3), 621-636. <a href="https://doi.org/10.1111/ijau.12240" class="external-link uri">https://doi.org/10.1111/ijau.12240</a>
</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://koenderks.com" class="external-link">Koen Derks</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
