<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Creating a prior distribution for audit sampling • jfa</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Creating a prior distribution for audit sampling">
<meta property="og:description" content="jfa">
<meta property="og:image" content="https://koenderks.github.io/jfa/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jfa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.7.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/jfa.html">Get started</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/koenderks/jfa" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/koenderks/jfa/discussions" class="external-link">
    <span class="fa fa-users"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Creating a prior distribution for audit
sampling</h1>
                        <h4 data-toc-skip class="author">Koen Derks</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/koenderks/jfa/blob/HEAD/vignettes/articles/creating-prior.Rmd" class="external-link"><code>vignettes/articles/creating-prior.Rmd</code></a></small>
      <div class="hidden name"><code>creating-prior.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette will walk you through the process of setting up a prior
distribution for audit sampling using the <code><a href="../reference/auditPrior.html">auditPrior()</a></code>
function in the <strong>jfa</strong> package.</p>
<p>The power of Bayesian statistics lies in its ability to incorporate
pre-existing information about the misstatement into the sampling
procedure through the prior distribution. Once data is observed, the
prior information is updated to draw an overall conclusion about the
misstatement in the population. The use of a prior distribution has the
advantage of making the underlying assumptions explicit, potentially
reducing the amount of audit work needed to achieve the desired
assurance. The type of information that can be incorporated into the
prior distribution depends on the availability and quality of the
information, as well as the specifics of the audit.</p>
<p>For example, if you have information from the auditee’s internal
control systems indicating well-segregated duties and numerous effective
controls in place, this suggests a relatively low probability of
misstatement. This risk-mitigating information can be incorporated into
the prior distribution, thereby lessening the need for evidence from the
sample. It is important to note that all information integrated into the
prior distribution should be substantiated with appropriate and
sufficient audit evidence. Specifically, the auditor should be able to
justifying the translation of audit information into a prior
distribution. This vignette addresses this issue.</p>
</div>
<div class="section level2">
<h2 id="creating-a-prior-distribution">Creating a prior distribution<a class="anchor" aria-label="anchor" href="#creating-a-prior-distribution"></a>
</h2>
<p>The <code><a href="../reference/auditPrior.html">auditPrior()</a></code> function is used to define a prior
distribution for audit sampling. The following are various ways this
function can be used to construct a prior distribution.</p>
<div class="section level3">
<h3 id="default-priors">Default priors<a class="anchor" aria-label="anchor" href="#default-priors"></a>
</h3>
<p>The default prior distributions in <strong>jfa</strong> are specified
using <code>method = 'default'</code>. These default priors meet two
criteria: 1) they hold relatively minimal information about the
population misstatement, and 2) they are proper, meaning they integrate
to one.</p>
<ul>
<li>
<code>likelihood = 'poisson'</code>: gamma(<span class="math inline">\(\alpha\)</span> = 1, <span class="math inline">\(\beta\)</span> = 1)</li>
<li>
<code>likelihood = 'binomial'</code>: beta(<span class="math inline">\(\alpha\)</span> = 1, <span class="math inline">\(\beta\)</span> = 1)</li>
<li>
<code>likelihood = 'hypergeometric'</code>: beta-binomial(N, <span class="math inline">\(\alpha\)</span> = 1, <span class="math inline">\(\beta\)</span> = 1)</li>
<li>
<code>likelihood = 'normal'</code>: normal(<span class="math inline">\(\mu\)</span> = 0, <span class="math inline">\(\sigma\)</span> = 1000)</li>
<li>
<code>likelihood = 'uniform'</code>: uniform(min = 0, max = 1)</li>
<li>
<code>likelihood = 'cauchy'</code>: Cauchy(<span class="math inline">\(x_0\)</span> = 0, <span class="math inline">\(\gamma\)</span> = 1000)</li>
<li>
<code>likelihood = 't'</code>: Student-t(df = 1)</li>
<li>
<code>likelihood = 'chisq'</code>: chi-squared(df = 1)</li>
<li>
<code>likelihood = 'exponential'</code>: exponential(<span class="math inline">\(\lambda\)</span> = 1)</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"default"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">prior</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Likelihood:                    binomial </span></span>
<span><span class="co">##   Specifics:                     default prior </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Functional form:               beta(α = 1, β = 1) </span></span>
<span><span class="co">##   Mode:                          NaN </span></span>
<span><span class="co">##   Mean:                          0.5 </span></span>
<span><span class="co">##   Median:                        0.5 </span></span>
<span><span class="co">##   Variance:                      0.083333 </span></span>
<span><span class="co">##   Skewness:                      0 </span></span>
<span><span class="co">##   Information entropy (nat):     0 </span></span>
<span><span class="co">##   95 percent upper bound:        0.95 </span></span>
<span><span class="co">##   Precision:                     NaN</span></span></code></pre>
<p>After setting up the prior distribution, you can visually examine it
using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">prior</span><span class="op">)</span></span></code></pre></div>
<p><img src="creating-prior_files/figure-html/unnamed-chunk-2-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Additionally, the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> function generates the
predictions of the prior distribution at the data level for a sample of
<span class="math inline">\(n\)</span> items. For instance, the command
below calls for the prediction of the default beta(1, 1) prior for a
hypothetical sample of <span class="math inline">\(n\)</span> = 6
items.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">prior</span>, n <span class="op">=</span> <span class="fl">6</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##       x=0       x=1       x=2       x=3       x=4       x=5       x=6 </span></span>
<span><span class="co">## 0.1428571 0.1428571 0.1428571 0.1428571 0.1428571 0.1428571 0.1428571</span></span></code></pre>
<p>You can visualize the predictions of the prior distribution using the
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">prior</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="creating-prior_files/figure-html/unnamed-chunk-4-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="priors-with-custom-parameters">Priors with custom parameters<a class="anchor" aria-label="anchor" href="#priors-with-custom-parameters"></a>
</h3>
<p>You can manually set the parameters of the prior distribution using
<code>method = 'param'</code> along with the <code>alpha</code> and
<code>beta</code> arguments. These correspond to the first and
(optionally) second parameter of the prior distribution as shown in the
default prior section. For instance, the commands below will create a
beta(2, 10) prior distribution, a normal(0.025, 0.05) prior
distribution, and a Student-t(0.01) prior distribution.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"param"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, alpha <span class="op">=</span> <span class="fl">2</span>, beta <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 2, β = 10) </span></span>
<span><span class="co">## parameters obtained via method 'param'</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"param"</span>, likelihood <span class="op">=</span> <span class="st">"normal"</span>, alpha <span class="op">=</span> <span class="fl">0.025</span>, beta <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: normal(μ = 0.025, σ = 0.05)T[0,1] </span></span>
<span><span class="co">## parameters obtained via method 'param'</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"param"</span>, likelihood <span class="op">=</span> <span class="st">"t"</span>, alpha <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: Student-t(df = 0.01)T[0,1] </span></span>
<span><span class="co">## parameters obtained via method 'param'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="improper-priors">Improper priors<a class="anchor" aria-label="anchor" href="#improper-priors"></a>
</h3>
<p>An improper prior distribution with classical properties can be
constructed using <code>method = 'strict'</code>. The posterior
distribution from this prior produces the same results as the classical
methodology in terms of sample sizes and upper limits. However, it only
becomes proper once a single non-misstated item is present in the sample
<span class="citation">(Derks et al., 2022)</span>. The command below
creates an improper beta(1, 0) prior distribution.</p>
<p><em>Note: This method requires the <code>poisson</code>,
<code>binomial</code>, or <code>hypergeometric</code>
likelihood.</em></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"strict"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 1, β = 0) </span></span>
<span><span class="co">## parameters obtained via method 'strict'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="impartial-priors">Impartial priors<a class="anchor" aria-label="anchor" href="#impartial-priors"></a>
</h3>
<p>To incorporate the assumption that tolerable misstatement is equally
likely as intolerable misstatement <span class="citation">(Derks et al.,
2022)</span>, you can use <code>method = 'impartial'</code>. For
instance, the command below generates an impartial beta prior
distribution for a performance materiality of five percent.</p>
<p><em>Note: This method requires a value for the
<code>materiality</code> and the <code>poisson</code>,
<code>binomial</code>, or <code>hypergeometric</code>
likelihood.</em></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"impartial"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, materiality <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 1, β = 13.513) </span></span>
<span><span class="co">## parameters obtained via method 'impartial'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="priors-based-on-risk-of-material-misstatement">Priors based on risk of material misstatement<a class="anchor" aria-label="anchor" href="#priors-based-on-risk-of-material-misstatement"></a>
</h3>
<p>To manually set prior probabilities for the hypothesis of tolerable
misstatement and the hypotheses of intolerable misstatement <span class="citation">(Derks et al., 2021)</span>, you can use
<code>method = 'hyp'</code> in conjunction with the <code>p.hmin</code>
argument. For instance, the command below integrates the information
that the hypothesis of intolerable misstatement has a 40 percent
probability into a beta prior distribution. This is equal to setting the
risk of material misstatement (RMM) to 40 percent.</p>
<p><em>Note: This method requires a value for the
<code>materiality</code> and the <code>poisson</code>,
<code>binomial</code>, or <code>hypergeometric</code>
likelihood.</em></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"hyp"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, materiality <span class="op">=</span> <span class="fl">0.05</span>, p.hmin <span class="op">=</span> <span class="fl">1</span> <span class="op">-</span> <span class="fl">0.4</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 1, β = 17.864) </span></span>
<span><span class="co">## parameters obtained via method 'hyp'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="priors-based-on-the-audit-risk-model">Priors based on the Audit Risk Model<a class="anchor" aria-label="anchor" href="#priors-based-on-the-audit-risk-model"></a>
</h3>
<p>To convert risk assessments from the Audit Risk Model, including
inherent risk and internal control risk, into a prior distribution <span class="citation">(Derks et al., 2021)</span>, you can use
<code>method = 'arm'</code> along with the <code>ir</code> and
<code>cr</code> arguments. For instance, the command below integrates
the information that the inherent risk is 90 percent and the internal
control risk is 60 percent into a beta prior distribution.</p>
<p><em>Note: This method requires the <code>poisson</code>,
<code>binomial</code>, or <code>hypergeometric</code>
likelihood.</em></p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"arm"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, materiality <span class="op">=</span> <span class="fl">0.05</span>, ir <span class="op">=</span> <span class="fl">0.9</span>, cr <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 1, β = 12) </span></span>
<span><span class="co">## parameters obtained via method 'arm'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="priors-based-on-the-bayesian-risk-assessment-model">Priors based on the Bayesian Risk Assessment Model<a class="anchor" aria-label="anchor" href="#priors-based-on-the-bayesian-risk-assessment-model"></a>
</h3>
<p>Incorporating information about the most likely value and the upper
limit of the population misstatement can be done using
<code>method = 'bram'</code>. For instance, the following code
demonstrates how to embed the information that the most likely
misstatement in the population is one percent and the 95 percent upper
limit on this misstatement is 60 percent into a beta prior
distribution.</p>
<p><em>Note: This method requires the <code>poisson</code>,
<code>binomial</code>, or <code>hypergeometric</code>
likelihood.</em></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"bram"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, expected <span class="op">=</span> <span class="fl">0.01</span>, materiality <span class="op">=</span> <span class="fl">0.05</span>, ub <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 1.023, β = 3.317) </span></span>
<span><span class="co">## parameters obtained via method 'bram'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="priors-based-on-an-earlier-sample">Priors based on an earlier sample<a class="anchor" aria-label="anchor" href="#priors-based-on-an-earlier-sample"></a>
</h3>
<p>You can use the <code>method = 'sample'</code> along with the
<code>x</code> and <code>n</code> arguments to integrate information
from an earlier sample into the prior distribution <span class="citation">(Derks et al., 2021)</span>. For instance, the code
below demonstrates how to include the data from a previous sample of
<span class="math inline">\(n\)</span> = 30 items where <span class="math inline">\(k\)</span> = 0 misstatements were detected into a
beta prior distribution.</p>
<p><em>Note: This method requires the <code>poisson</code>,
<code>binomial</code>, or <code>hypergeometric</code>
likelihood.</em></p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"sample"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, x <span class="op">=</span> <span class="fl">0</span>, n <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 1, β = 30) </span></span>
<span><span class="co">## parameters obtained via method 'sample'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="priors-based-on-a-weighted-earlier-sample">Priors based on a weighted earlier sample<a class="anchor" aria-label="anchor" href="#priors-based-on-a-weighted-earlier-sample"></a>
</h3>
<p>You can integrate information from the previous year’s results,
adjusted by a factor <span class="citation">(Derks et al., 2021)</span>,
into the prior distribution using <code>method = 'factor'</code> in
conjunction with the <code>x</code> and <code>n</code> arguments. For
instance, the code below demonstrates how to include the data from the
previous year’s results (i.e., a sample of <span class="math inline">\(n\)</span> = 58 items with <span class="math inline">\(k\)</span> = 0 misstatements found), weighed by a
factor of 0.7, into a beta prior distribution. This weighting factor of
0.7 could be derived from the fact that 70 percent of the auditee’s
contracts are with businesses that have remained unchanged over the
years, implying that last year’s population is for 70 percent comparable
to the population of this year.</p>
<p><em>Note: This method requires the <code>poisson</code>,
<code>binomial</code>, or <code>hypergeometric</code>
likelihood.</em></p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"factor"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, x <span class="op">=</span> <span class="fl">0</span>, n <span class="op">=</span> <span class="fl">58</span>, factor <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: beta(α = 1, β = 40.6) </span></span>
<span><span class="co">## parameters obtained via method 'factor'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="nonparametric-prior-distributions">Nonparametric prior distributions<a class="anchor" aria-label="anchor" href="#nonparametric-prior-distributions"></a>
</h3>
<p>You can establish the prior based on samples from the prior
distribution using <code>method = 'nonparam'</code> along with the
<code>samples</code> argument. For instance, the code below sets up a
prior based on 1000 samples from a beta(1, 10) distribution.</p>
<p><em>Note: The <code>likelihood</code> argument is not required and
will be ignored in this method.</em></p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"nonparam"</span>, samples <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html" class="external-link">rbeta</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution for Audit Sampling</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## functional form: Nonparametric </span></span>
<span><span class="co">## parameters obtained via method 'nonparam'</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="using-a-prior-distribution">Using a prior distribution<a class="anchor" aria-label="anchor" href="#using-a-prior-distribution"></a>
</h2>
<p>The objects returned by the <code><a href="../reference/auditPrior.html">auditPrior()</a></code> function can be
used as input for the <code>prior</code> argument in both the
<code><a href="../reference/planning.html">planning()</a></code> and <code><a href="../reference/evaluation.html">evaluation()</a></code> functions. Here
follows a brief demonstration of how to construct the prior distribution
using these functions.</p>
<div class="section level3">
<h3 id="planning-a-sample">Planning a sample<a class="anchor" aria-label="anchor" href="#planning-a-sample"></a>
</h3>
<p>The prior distribution can be employed during the planning stage to
compute a minimum sample size. This is done by supplying the object
returned by the <code><a href="../reference/auditPrior.html">auditPrior()</a></code> function to the
<code><a href="../reference/planning.html">planning()</a></code> function via its <code>prior</code> argument.
For instance, the command below calculates the minimum sample size
required to test the misstatement in the population against a
performance materiality of five percent, using a beta(1, 10) prior
distribution. The resulting sample size is <span class="math inline">\(n\)</span> = 49.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"param"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, alpha <span class="op">=</span> <span class="fl">1</span>, beta <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/planning.html">planning</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="fl">0.05</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span>, prior <span class="op">=</span> <span class="va">prior</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Bayesian Audit Sample Planning</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## minimum sample size = 49 </span></span>
<span><span class="co">## sample size obtained in 50 iterations via method 'binomial' + 'prior'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="evaluating-a-sample">Evaluating a sample<a class="anchor" aria-label="anchor" href="#evaluating-a-sample"></a>
</h3>
<p>The prior distribution can also be used during the evaluation stage
by providing the object returned by the <code><a href="../reference/auditPrior.html">auditPrior()</a></code>
function to the <code><a href="../reference/evaluation.html">evaluation()</a></code> function via its
<code>prior</code> argument. For example, the command below evaluates
the misstatement in the population with respect to a performance
materiality of five percent after observing a sample of <span class="math inline">\(n\)</span> = 60 items with <span class="math inline">\(k\)</span> = 1 misstatement, using a Normal(0.025,
0.05) prior distribution.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"param"</span>, likelihood <span class="op">=</span> <span class="st">"normal"</span>, alpha <span class="op">=</span> <span class="fl">0.025</span>, beta <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span>
<span><span class="va">eval</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/evaluation.html">evaluation</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="fl">0.05</span>, x <span class="op">=</span> <span class="fl">1</span>, n <span class="op">=</span> <span class="fl">60</span>, prior <span class="op">=</span> <span class="va">prior</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">eval</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Bayesian Audit Sample Evaluation Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Confidence level:               0.95 </span></span>
<span><span class="co">##   Materiality:                    0.05 </span></span>
<span><span class="co">##   Hypotheses:                     H₀: Θ &gt; 0.05 vs. H₁: Θ &lt; 0.05 </span></span>
<span><span class="co">##   Method:                         poisson </span></span>
<span><span class="co">##   Prior distribution:             normal(μ = 0.025, σ = 0.05)T[0,1] </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data:</span></span>
<span><span class="co">##   Sample size:                    60 </span></span>
<span><span class="co">##   Number of errors:               1 </span></span>
<span><span class="co">##   Sum of taints:                  1 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Posterior distribution:         Nonparametric </span></span>
<span><span class="co">##   Most likely error:              0.016 </span></span>
<span><span class="co">##   95 percent credible interval:   [0, 0.067] </span></span>
<span><span class="co">##   Precision:                      0.051 </span></span>
<span><span class="co">##   BF₁₀:                            4.8148</span></span></code></pre>
<p>The prior and posterior distribution can be visualized by calling
<code>plot(..., type = "posterior")</code>.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">eval</span>, type <span class="op">=</span> <span class="st">"posterior"</span><span class="op">)</span></span></code></pre></div>
<p><img src="creating-prior_files/figure-html/unnamed-chunk-16-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Furthermore, the predictions of the posterior distribution at the
data level can be visualized by combining the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> and
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> functions. For instance, the command below displays
the predictions of the posterior distribution for a hypothetical (next)
sample of <span class="math inline">\(n\)</span> = 10 items.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">eval</span><span class="op">$</span><span class="va">posterior</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="creating-prior_files/figure-html/unnamed-chunk-17-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0" line-spacing="2">
<div id="ref-derks_2021" class="csl-entry">
Derks, K., Swart, J. de, Batenburg, P. van, Wagenmakers, E.-J., &amp;
Wetzels, R. (2021). Priors in a <span>B</span>ayesian audit: How
integration of existing information into the prior distribution can
improve audit transparency and efficiency. <em>International Journal of
Auditing</em>, <em>25</em>(3), 621–636. <a href="https://doi.org/10.1111/ijau.12240" class="external-link">https://doi.org/10.1111/ijau.12240</a>
</div>
<div id="ref-derks_2022" class="csl-entry">
Derks, K., Swart, J. de, Wagenmakers, E.-J., &amp; Wetzels, R. (2022).
<em>An impartial <span>B</span>ayesian hypothesis test for audit
sampling</em>. <a href="https://doi.org/10.31234/osf.io/8nf3e" class="external-link">https://doi.org/10.31234/osf.io/8nf3e</a>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://koenderks.com" class="external-link">Koen Derks</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
