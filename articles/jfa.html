<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get started • jfa</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get started">
<meta property="og:description" content="jfa">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jfa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/jfa.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/v1_sampling_workflow.html">Workflow: Classical audit sampling</a>
    </li>
    <li>
      <a href="../articles/v2_bayesian_sampling_workflow.html">Workflow: Bayesian audit sampling</a>
    </li>
    <li>
      <a href="../articles/v3_prior_distributions.html">Planning: Prior distributions</a>
    </li>
    <li>
      <a href="../articles/v4_selection_methodology.html">Selection: Sampling methodology</a>
    </li>
    <li>
      <a href="../articles/v5_estimating_misstatement.html">Evaluation: Estimating misstatement</a>
    </li>
    <li>
      <a href="../articles/v6_testing_misstatement.html">Evaluation: Testing misstatement</a>
    </li>
    <li>
      <a href="../articles/v7_bayes_factors_summary_statistics.html">Evaluation: Bayes factors using summary statistics</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/koenderks/jfa/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="jfa_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get started</h1>
                        <h4 data-toc-skip class="author">Koen Derks</h4>
            
            <h4 data-toc-skip class="date">last modified: 27-10-2021</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/koenderks/jfa/blob/HEAD/vignettes/jfa.Rmd" class="external-link"><code>vignettes/jfa.Rmd</code></a></small>
      <div class="hidden name"><code>jfa.Rmd</code></div>

    </div>

    
    
<p>Welcome to the ‘Get started’ vignette of the <code>jfa</code> package. This vignette provides a simple explanation of the functions in the package and how they facilitate the statistical audit sampling workflow. See the other vignettes for a more detailed explanation of the functionality of the package.</p>
<div class="section level2">
<h2 id="example-data">Example data<a class="anchor" aria-label="anchor" href="#example-data"></a>
</h2>
<p>To concretely illustrate <code>jfa</code>‘s functionality, we consider the <code>BuildIt</code> data set that is included in the package (for more info, see <code><a href="../reference/BuildIt.html">?BuildIt</a></code>). This data set contains a population of 3500 invoices paid to the fictional ’BuildIt’ construction company. Each invoice has an identification number (<code>ID</code>), a recorded value (<code>bookValue</code>), and a corresponding audit (true) value (<code>auditValue</code>).</p>
<p><strong>Note:</strong> The information in the <code>auditValue</code> column is added for illustrative purposes since it will only be known to the auditor after having inspected a sample of invoices.</p>
<p>First, we load the <code>jfa</code> package and the <code>BuildIt</code> data set. The first 10 invoices from the data set are displayed below.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://koenderks.github.io/jfa/" class="external-link">jfa</a></span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">'BuildIt'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">BuildIt</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##       ID bookValue auditValue</span>
<span class="co">## 1  82884    242.61     242.61</span>
<span class="co">## 2  25064    642.99     642.99</span>
<span class="co">## 3  81235    628.53     628.53</span>
<span class="co">## 4  71769    431.87     431.87</span>
<span class="co">## 5  55080    620.88     620.88</span>
<span class="co">## 6  93224    501.76     501.76</span>
<span class="co">## 7  24331    466.01     466.01</span>
<span class="co">## 8  81460    295.20     295.20</span>
<span class="co">## 9  14608    216.48     216.48</span>
<span class="co">## 10 79064    243.43     243.43</span></code></pre>
<p>For a fully illustrated walkthrough of <code>jfa</code>’s workflow functionality using the <code>BuildIt</code> data set, see <a href="https://koenderks.github.io/jfa/articles/v1_sampling_workflow.html" class="external-link">Workflow: Classical audit sampling</a>. For a Bayesian version of the illustrated walkthrough, see <a href="https://koenderks.github.io/jfa/articles/v2_bayesian_sampling_workflow.html" class="external-link">Workflow: Bayesian audit sampling</a>.</p>
</div>
<div class="section level2">
<h2 id="optional-using-auditprior-the-basics">(Optional) Using <code>auditPrior()</code>: The basics<a class="anchor" aria-label="anchor" href="#optional-using-auditprior-the-basics"></a>
</h2>
<p>The <code><a href="../reference/auditPrior.html">auditPrior()</a></code> function can be used to create a prior distribution for the misstatement parameter in a statistical audit sampling model. In an audit sampling context, an advantage of Bayesian inference is that the prior distribution can be used to incorporate existing information into the statistical procedure. Incorporating existing information can potentially yield a decrease in sample size and an increase in efficiency. The type of audit information that can be incorporated depends on the information that is available in the context of the audit. See the vignette <a href="https://koenderks.github.io/jfa/articles/v3_prior_distributions.html" class="external-link">Planning: Prior distributions</a> or the accompanying <a href="https://onlinelibrary.wiley.com/doi/10.1111/ijau.12240" class="external-link">article</a> for a detailed explanation of the types of audit information that <code>jfa</code> is able to incorporate into a prior distribution.</p>
<p>With the prior distribution in hand, Bayesian audit sampling can be performed by providing the object returned by the <code><a href="../reference/auditPrior.html">auditPrior()</a></code> function as input for the <code>prior</code> argument in subsequent calls to the <code><a href="../reference/planning.html">planning()</a></code> and <code><a href="../reference/evaluation.html">evaluation()</a></code> functions.</p>
</div>
<div class="section level2">
<h2 id="using-planning-the-basics">Using <code>planning()</code>: The basics<a class="anchor" aria-label="anchor" href="#using-planning-the-basics"></a>
</h2>
<p>Planning a minimum sample size requires knowledge of the conditions that lead to acceptance of the population (i.e., the sampling objectives). Generally, a sampling objective can be one (or both) of the following:</p>
<ul>
<li>
<strong>Hypothesis testing</strong>: Obtain measures of evidence for the claim that the misstatement in the population is lower than a given performance materiality (i.e., the maximum tolerable misstatement).</li>
<li>
<strong>Estimation</strong>: Obtain measures of accuracy for the claim that the misstatement in the population is a certain value (with a minimum precision).</li>
</ul>
<p>Next to determining the sampling objective(s), it is also important to determine the statistical distribution linking the sample outcomes to the population misstatement (e.g., <code>poisson</code>, <code>binomial</code>, or <code>hypergeometric</code>). All three distributions are standard in an audit sampling context because they are (approximations) of the hypergeometric distribution, but <code>poisson</code> is the default in <code>jfa</code> because it is the most conservative.</p>
<p>Lastly, it is advised to obtain knowledge of the expected (or tolerable) errors in the sample. It is strongly recommended to set the value for the expected errors in the sample conservatively to minimize the chance of the observed errors in the sample exceeding the expected errors, which would imply that insufficient work has been done in the end.</p>
<p>With the <code>BuildIt</code> data set, because the booked amounts (monetary values) of each invoice in the population are given, an auditor may want to make a statement about the amount of misstatement in the population. For illustrative purposes we will tolerate zero misstatements in the sample.</p>
<div class="section level3">
<h3 id="hypothesis-testing">Hypothesis testing<a class="anchor" aria-label="anchor" href="#hypothesis-testing"></a>
</h3>
<p>First, let’s take a look at how you can use the <code><a href="../reference/planning.html">planning()</a></code> function to calculate the minimum sample size for testing the hypothesis that the misstatement in the population is lower than the performance materiality. In this example the performance materiality is set to 5% of the total population value, meaning that the population may not contain more than 5% misstatement.</p>
<p><strong>Sampling objective</strong>: Calculate a minimum sample size such that, when no misstatements are found in the sample, there is a 95% chance that the misstatement in the population is lower than 5% of the population value.</p>
<p>A minimum sample size for this sampling objective can be calculated by specifying the <code>materiality</code> parameter in the <code><a href="../reference/planning.html">planning()</a></code> function, see the code below. Next, a summary of the statistical results can be obtained using the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> function. The results show that, given zero tolerable errors, the minimum sample size is 60 units.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">stage1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/planning.html">planning</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="fl">0.05</span>, expected <span class="op">=</span> <span class="fl">0</span>, likelihood <span class="op">=</span> <span class="st">'poisson'</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">stage1</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## </span>
<span class="co">##  Classical Audit Sample Planning Summary</span>
<span class="co">## </span>
<span class="co">## Options:</span>
<span class="co">##   Confidence level:              0.95 </span>
<span class="co">##   Materiality:                   0.05 </span>
<span class="co">##   Hypotheses:                    H₀: Θ &gt;= 0.05 vs. H₁: Θ &lt; 0.05 </span>
<span class="co">##   Expected:                      0 </span>
<span class="co">##   Likelihood:                    poisson </span>
<span class="co">## </span>
<span class="co">## Results:</span>
<span class="co">##   Minimum sample size:           60 </span>
<span class="co">##   Tolerable errors:              0 </span>
<span class="co">##   Expected most likely error:    0 </span>
<span class="co">##   Expected upper bound:          0.049929 </span>
<span class="co">##   Expected precision:            0.049929 </span>
<span class="co">##   Expected p-value:              &lt; 2.22e-16</span></code></pre>
</div>
<div class="section level3">
<h3 id="estimation">Estimation<a class="anchor" aria-label="anchor" href="#estimation"></a>
</h3>
<p>Next, let’s take a look at how you can use the <code><a href="../reference/planning.html">planning()</a></code> function to calculate the minimum sample size for estimating the misstatement in the population with a minimum precision. The precision is defined as the difference between the most likely misstatement and the upper confidence bound on the misstatement. For this example, the minimum precision is set to 2% of the population value.</p>
<p><strong>Sampling objective</strong>: Calculate a minimum sample size such that, when zero misstatements are found in the sample, there is a 95% chance that the misstatement in the population is at most 2% above the most likely misstatement.</p>
<p>A minimum sample size for this sampling objective can be calculated by specifying the <code>min.precision</code> parameter in the <code><a href="../reference/planning.html">planning()</a></code> function, see the code below. The results show that, given zero tolerable errors, the minimum sample size is 150 units.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">stage1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/planning.html">planning</a></span><span class="op">(</span>min.precision <span class="op">=</span> <span class="fl">0.02</span>, expected <span class="op">=</span> <span class="fl">0</span>, likelihood <span class="op">=</span> <span class="st">'poisson'</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">stage1</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## </span>
<span class="co">##  Classical Audit Sample Planning Summary</span>
<span class="co">## </span>
<span class="co">## Options:</span>
<span class="co">##   Confidence level:              0.95 </span>
<span class="co">##   Min. precision:                0.02 </span>
<span class="co">##   Expected:                      0 </span>
<span class="co">##   Likelihood:                    poisson </span>
<span class="co">## </span>
<span class="co">## Results:</span>
<span class="co">##   Minimum sample size:           150 </span>
<span class="co">##   Tolerable errors:              0 </span>
<span class="co">##   Expected most likely error:    0 </span>
<span class="co">##   Expected upper bound:          0.019971 </span>
<span class="co">##   Expected precision:            0.019971</span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="using-selection-the-basics">Using <code>selection()</code>: The basics<a class="anchor" aria-label="anchor" href="#using-selection-the-basics"></a>
</h2>
<p>Selecting a sample using the <code><a href="../reference/selection.html">selection()</a></code> function requires knowledge of units in the population that are eligible for selection (i.e., sampling units). Sampling units can be items or monetary units. Items can be selected from the population using record sampling (also known as attribute sampling or item sampling) with <code>units = 'items'</code>. On the other hand, monetary units can be selected from the population using monetary unit sampling (MUS) with <code>units = 'values'</code>.</p>
<p>Once the sampling units are determined it should also be determined what method is used to select the units (i.e., the selection method). Sampling units can be selected with a fixed interval sampling (also known as systematic sampling) scheme using <code>method = 'interval'</code> (the default), with a cell sampling scheme using <code>method = 'cell'</code>, using random sampling using <code>method = 'random'</code>, or using modified sieve sampling with <code>method = 'sieve'</code>. See the vignette <a href="https://koenderks.github.io/jfa/articles/v4_selection_methodology.html" class="external-link">Selection: Sampling methodology</a> for a more detailed explanation the selection methods implemented in <code>jfa</code>.</p>
<div class="section level3">
<h3 id="record-sampling">Record sampling<a class="anchor" aria-label="anchor" href="#record-sampling"></a>
</h3>
<p>First, let’s take a look at how the <code><a href="../reference/selection.html">selection()</a></code> function can be used to perform random record sampling. Random record sampling implies that the sampling units are set to <code>items</code> and the selection method is set to <code>random</code>. The code below selects the 60 planned invoices from the <code>BuildIt</code> data set using such a random record sampling scheme.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="va">stage2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection.html">selection</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="fl">60</span>, units <span class="op">=</span> <span class="st">'items'</span>, method <span class="op">=</span> <span class="st">'random'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">stage2</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## </span>
<span class="co">##  Audit Sample Selection Summary</span>
<span class="co">## </span>
<span class="co">## Options:</span>
<span class="co">##   Requested sample size:         60 </span>
<span class="co">##   Sampling units:                items </span>
<span class="co">##   Method:                        random sampling </span>
<span class="co">## </span>
<span class="co">## Data:</span>
<span class="co">##   Population size:               3500 </span>
<span class="co">## </span>
<span class="co">## Results:</span>
<span class="co">##   Selected sampling units:       60 </span>
<span class="co">##   Selected items:                60 </span>
<span class="co">##   Proportion of size:            0.017143</span></code></pre>
</div>
<div class="section level3">
<h3 id="monetary-unit-sampling-mus">Monetary unit sampling (MUS)<a class="anchor" aria-label="anchor" href="#monetary-unit-sampling-mus"></a>
</h3>
<p>Next, let’s take a look at how the <code><a href="../reference/selection.html">selection()</a></code> function can be used to perform fixed interval monetary unit sampling. Fixed interval monetary unit sampling implies that the sampling units are set to <code>values</code> and the selection method is set to <code>interval</code>. The code below selects 150 monetary units from the <code>BuildIt</code> data set using such a fixed interval monetary unit sampling scheme.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">stage2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection.html">selection</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="fl">150</span>, units <span class="op">=</span> <span class="st">'values'</span>, method <span class="op">=</span> <span class="st">'interval'</span>, values <span class="op">=</span> <span class="st">'bookValue'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">stage2</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## </span>
<span class="co">##  Audit Sample Selection Summary</span>
<span class="co">## </span>
<span class="co">## Options:</span>
<span class="co">##   Requested sample size:         150 </span>
<span class="co">##   Sampling units:                monetary units </span>
<span class="co">##   Method:                        fixed interval sampling </span>
<span class="co">##   Starting point:                1 </span>
<span class="co">## </span>
<span class="co">## Data:</span>
<span class="co">##   Population size:               3500 </span>
<span class="co">##   Population value:              1403221 </span>
<span class="co">##   Selection interval:            9354.8 </span>
<span class="co">## </span>
<span class="co">## Results:</span>
<span class="co">##   Selected sampling units:       150 </span>
<span class="co">##   Proportion of value:           0.0001069 </span>
<span class="co">##   Selected items:                150 </span>
<span class="co">##   Proportion of size:            0.042857</span></code></pre>
</div>
<div class="section level3">
<h3 id="extracting-the-sample">Extracting the sample<a class="anchor" aria-label="anchor" href="#extracting-the-sample"></a>
</h3>
<p>The selected units and corresponding items are stored in the object that is returned by the <code><a href="../reference/selection.html">selection()</a></code> function. The sample can be extracted from this object by indexing it via <code>$sample</code>, see the code below. After this step it is up to the auditor to annotate the sample.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="va">stage2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/selection.html">selection</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="fl">60</span>, units <span class="op">=</span> <span class="st">'items'</span>, method <span class="op">=</span> <span class="st">'random'</span><span class="op">)</span>

<span class="va">sample</span> <span class="op">&lt;-</span> <span class="va">stage2</span><span class="op">$</span><span class="va">sample</span>
<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sample</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">##     row times    ID bookValue auditValue</span>
<span class="co">## 1  1017     1 50755    618.24     618.24</span>
<span class="co">## 2   679     1 20237    669.75     669.75</span>
<span class="co">## 3  2177     1  9517    454.02     454.02</span>
<span class="co">## 4   930     1 85674    257.82     257.82</span>
<span class="co">## 5  1533     1 31051    308.53     308.53</span>
<span class="co">## 6   471     1 84375    824.66     824.66</span>
<span class="co">## 7  2347     1 75616    623.70     623.70</span>
<span class="co">## 8   270     1 82033    352.75     352.75</span>
<span class="co">## 9  1211     1 12877     52.89      52.89</span>
<span class="co">## 10 3379     1 85322    330.24     330.24</span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="using-evaluation-the-basics">Using <code>evaluation()</code>: The basics<a class="anchor" aria-label="anchor" href="#using-evaluation-the-basics"></a>
</h2>
<p>After annotating the items in the sample with their audit values you can perform statistical inference about the misstatement in the population with the <code><a href="../reference/evaluation.html">evaluation()</a></code> function. Next to a data sample as input, this function can also be used when only summary statistics from a data sample (e.g., sample size and number of errors) are available. For a more elaborate explanation of the output of this function for each sampling objective, see the package vignettes <a href="https://koenderks.github.io/jfa/articles/v6_testing_misstatement.html" class="external-link">Evaluation: Testing misstatement</a> and <a href="https://koenderks.github.io/jfa/articles/v5_estimating_misstatement.html" class="external-link">Evaluation: Estimating misstatement</a>.</p>
<div class="section level3">
<h3 id="summary-statistics">Summary statistics<a class="anchor" aria-label="anchor" href="#summary-statistics"></a>
</h3>
<p>First, let’s take a look at how the <code><a href="../reference/evaluation.html">evaluation()</a></code> function can be combined with summary statistics from a sample. Suppose that in the previously selected sample of 60 invoices it is found that a single invoice is missing an autograph. These summary statistics can be provided to the <code><a href="../reference/evaluation.html">evaluation()</a></code> function with <code>x = 1</code> and <code>n = 60</code>. The function also requires that you specify the sampling objectives using the <code>materiality</code> or <code>min.precision</code> arguments. Again, a performance materiality of 5% again applies.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">stage4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/evaluation.html">evaluation</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="fl">0.05</span>, method <span class="op">=</span> <span class="st">'poisson'</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span>, x <span class="op">=</span> <span class="fl">1</span>, n <span class="op">=</span> <span class="fl">60</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">stage4</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## </span>
<span class="co">##  Classical Audit Sample Evaluation Summary</span>
<span class="co">## </span>
<span class="co">## Options:</span>
<span class="co">##   Confidence level:               0.95 </span>
<span class="co">##   Materiality:                    0.05 </span>
<span class="co">##   Materiality:                    0.05 </span>
<span class="co">##   Hypotheses:                     H₀: Θ &gt;= 0.05 vs. H₁: Θ &lt; 0.05 </span>
<span class="co">##   Method:                         poisson </span>
<span class="co">## </span>
<span class="co">## Data:</span>
<span class="co">##   Sample size:                    60 </span>
<span class="co">##   Number of errors:               1 </span>
<span class="co">##   Sum of taints:                  1 </span>
<span class="co">## </span>
<span class="co">## Results:</span>
<span class="co">##   Most likely error:              0.016667 </span>
<span class="co">##   95 percent confidence interval: [0, 0.079064] </span>
<span class="co">##   Precision:                      0.062398 </span>
<span class="co">##   p-value:                        0.19915</span></code></pre>
<p>The results indicate that the most likely error in the population is 1.66%. Moreover, the 95% one-sided confidence interval for the population misstatement ranges from 0% to 7.9% and contains the performance materiality. This implies that we cannot reject the hypothesis that the population misstatement is lower than 5%, which is also indicated by a non-significant <em>p</em> value (<em>p</em> = 0.199).</p>
</div>
<div class="section level3">
<h3 id="data-sample">Data sample<a class="anchor" aria-label="anchor" href="#data-sample"></a>
</h3>
<p>Next, let’s take a look at how the <code><a href="../reference/evaluation.html">evaluation()</a></code> function can be combined with a data sample. Returning to our annotated sample from the <code><a href="../reference/selection.html">selection()</a></code> function, suppose that in the previously selected sample of 60 invoices it is found that a single invoice has a true value that deviates from its booked value.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sample</span><span class="op">$</span><span class="va">auditValue</span>    <span class="op">&lt;-</span> <span class="va">sample</span><span class="op">$</span><span class="va">bookValue</span>
<span class="va">sample</span><span class="op">$</span><span class="va">auditValue</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">sample</span><span class="op">$</span><span class="va">auditValue</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="fl">100</span></code></pre></div>
<p>These data can be provided to the <code><a href="../reference/evaluation.html">evaluation()</a></code> function using the <code>data</code>, <code>values</code>, <code>values.audit</code>, and <code>times</code> arguments. The <code>method</code> argument determines the method of inference. For example, the code below evaluates the misstatement in the population using the commonly used Stringer bound. You can find more information about which evaluation methods are implemented on the <a href="https://koenderks.github.io/jfa/" class="external-link">home page</a>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">stage4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/evaluation.html">evaluation</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="fl">0.05</span>, method <span class="op">=</span> <span class="st">'stringer'</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span>,
                     data <span class="op">=</span> <span class="va">sample</span>, values <span class="op">=</span> <span class="st">'bookValue'</span>, values.audit <span class="op">=</span> <span class="st">'auditValue'</span>,
                     times <span class="op">=</span> <span class="st">'times'</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">stage4</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## </span>
<span class="co">##  Classical Audit Sample Evaluation Summary</span>
<span class="co">## </span>
<span class="co">## Options:</span>
<span class="co">##   Confidence level:               0.95 </span>
<span class="co">##   Materiality:                    0.05 </span>
<span class="co">##   Method:                         stringer </span>
<span class="co">## </span>
<span class="co">## Data:</span>
<span class="co">##   Sample size:                    60 </span>
<span class="co">##   Number of errors:               1 </span>
<span class="co">##   Sum of taints:                  0.1617495 </span>
<span class="co">## </span>
<span class="co">## Results:</span>
<span class="co">##   Most likely error:              0.0026958 </span>
<span class="co">##   95 percent confidence interval: [0, 0.053222] </span>
<span class="co">##   Precision:                      0.050526</span></code></pre>
<p>The results indicate that the most likely error in the population is 1%. Moreover, the 95% one-sided confidence interval for the population misstatement ranges from 0% to 6.5% and contains the performance materiality. The <code>stringer</code> method does not provide a <em>p</em> value for hypothesis testing.</p>
</div>
</div>
<div class="section level2">
<h2 id="using-report-the-basics">Using <code>report()</code>: The basics<a class="anchor" aria-label="anchor" href="#using-report-the-basics"></a>
</h2>
<p>With the results from the <code><a href="../reference/evaluation.html">evaluation()</a></code> function in hand, a call to the <code><a href="../reference/report.html">report()</a></code> function automatically generates a report containing the data, the statistical results and their interpretation, and the conclusion of the sampling procedure with respect to the sampling objectives. The object returned by the <code><a href="../reference/evaluation.html">evaluation()</a></code> function can be supplied directly to the <code><a href="../reference/report.html">report()</a></code> function, see the code below.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">stage4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/evaluation.html">evaluation</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="fl">0.05</span>, method <span class="op">=</span> <span class="st">'stringer'</span>, conf.level <span class="op">=</span> <span class="fl">0.95</span>,
                     data <span class="op">=</span> <span class="va">sample</span>, values <span class="op">=</span> <span class="st">'bookValue'</span>, values.audit <span class="op">=</span> <span class="st">'auditValue'</span>,
                     times <span class="op">=</span> <span class="st">'times'</span><span class="op">)</span>

<span class="fu"><a href="../reference/report.html">report</a></span><span class="op">(</span><span class="va">stage4</span>, file <span class="op">=</span> <span class="st">'report.html'</span>, format <span class="op">=</span> <span class="st">'html_document'</span><span class="op">)</span> <span class="co"># Generates .html report</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Koen Derks.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.0.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
