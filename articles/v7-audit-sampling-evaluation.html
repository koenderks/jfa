<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Audit sampling: Evaluating a sample • jfa</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Audit sampling: Evaluating a sample">
<meta property="og:description" content="jfa">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jfa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/jfa.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/v1-audit-sampling.html">Audit sampling: Get started</a>
    </li>
    <li>
      <a href="../articles/v2-audit-sampling-workflow.html">Audit sampling: Classical sampling workflow</a>
    </li>
    <li>
      <a href="../articles/v3-audit-sampling-bayesian-workflow.html">Audit sampling: Bayesian sampling workflow</a>
    </li>
    <li>
      <a href="../articles/v4-audit-sampling-prior-distributions.html">Audit sampling: Creating a prior distribution</a>
    </li>
    <li>
      <a href="../articles/v5-audit-sampling-planning.html">Audit sampling: Planning a sample</a>
    </li>
    <li>
      <a href="../articles/v6-audit-sampling-sample-selection.html">Audit sampling: Selecting a sample</a>
    </li>
    <li>
      <a href="../articles/v7-audit-sampling-evaluation.html">Audit sampling: Evaluating a sample</a>
    </li>
    <li>
      <a href="../articles/v8-data-auditing.html">Data auditing: Get started</a>
    </li>
    <li>
      <a href="../articles/v9-auditing-data-digit-analysis.html">Auditing data: Digit analysis</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/koenderks/jfa/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Audit sampling: Evaluating a sample</h1>
                        <h4 data-toc-skip class="author">Koen Derks</h4>
            
            <h4 data-toc-skip class="date">last modified:
10-11-2022</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/koenderks/jfa/blob/HEAD/vignettes/v7-audit-sampling-evaluation.Rmd" class="external-link"><code>vignettes/v7-audit-sampling-evaluation.Rmd</code></a></small>
      <div class="hidden name"><code>v7-audit-sampling-evaluation.Rmd</code></div>

    </div>

    
    
<center>
<p><img src="img/evaluation.png" alt="Figure 1: The location of the evaluation stage in the audit sampling workflow"><br></p>
</center>
<p>This vignette outlines the most commonly used sample evaluation
methodology for auditing and shows how to evaluate a sample using the
<code><a href="../reference/evaluation.html">evaluation()</a></code> function in the <strong>jfa</strong>
package.</p>
<div class="section level2">
<h2 id="evaluation-of-non-stratified-samples">Evaluation of non-stratified samples<a class="anchor" aria-label="anchor" href="#evaluation-of-non-stratified-samples"></a>
</h2>
<p>A non-stratified sample evaluation applies when the population is not
divided into distinct groups of items (i.e, strata).</p>
<div class="section level3">
<h3 id="hypothesis-testing">Hypothesis testing<a class="anchor" aria-label="anchor" href="#hypothesis-testing"></a>
</h3>
<p>In an audit sampling test the auditor generally assigns performance
materiality, <span class="math inline">\(\theta_{max}\)</span>, to the
population which expresses the maximum tolerable misstatement (as a
fraction or a monetary amount). The auditor then inspects a sample of
the population to make a decision between the following two
hypotheses:</p>
<p><span class="math display">\[H_1:\theta&lt;\theta_{max}\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,\,
H_0:\theta\geq\theta_{max}\]</span>.</p>
<p>The <code><a href="../reference/evaluation.html">evaluation()</a></code> function allows you to make a statement
about the credibility of these two hypotheses after inspecting a sample.
Note that this requires that you specify the <code>materiality</code>
argument in the function.</p>
<div class="section level4">
<h4 id="classical-hypothesis-testing-using-the-p-value">Classical hypothesis testing using the <em>p</em>-value<a class="anchor" aria-label="anchor" href="#classical-hypothesis-testing-using-the-p-value"></a>
</h4>
<p>Classical hypothesis testing uses the <em>p</em> value to make a
decision about whether to reject the hypothesis <span class="math inline">\(H_0\)</span> or not. As an example, consider that
an auditor wants to verify whether the population contains less than 5
percent misstatement, implying the hypotheses <span class="math inline">\(H_1:\theta&lt;0.05\)</span> and <span class="math inline">\(H_0:\theta\geq0.05\)</span>. They have taken a
sample of 100 items, of which 1 contained an error. They set the
significance level for the <em>p</em> value to 0.05, implying that a
<em>p</em> value &lt; 0.05 will be enough to reject the hypothesis <span class="math inline">\(H_0\)</span>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result_classical</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/evaluation.html">evaluation</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="fl">0.05</span>, x <span class="op">=</span> <span class="fl">1</span>, n <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_classical</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Classical Audit Sample Evaluation Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Confidence level:               0.95 </span></span>
<span><span class="co">##   Materiality:                    0.05 </span></span>
<span><span class="co">##   Hypotheses:                     H₀: Θ &gt;= 0.05 vs. H₁: Θ &lt; 0.05 </span></span>
<span><span class="co">##   Method:                         poisson </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data:</span></span>
<span><span class="co">##   Sample size:                    100 </span></span>
<span><span class="co">##   Number of errors:               1 </span></span>
<span><span class="co">##   Sum of taints:                  1 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Most likely error:              0.01 </span></span>
<span><span class="co">##   95 percent confidence interval: [0, 0.047439] </span></span>
<span><span class="co">##   Precision:                      0.037439 </span></span>
<span><span class="co">##   p-value:                        0.040428</span></span></code></pre>
<p>As we can see, the <em>p</em> value is lower than 0.05 implying that
the hypothesis <span class="math inline">\(H_0\)</span> is rejected.</p>
</div>
<div class="section level4">
<h4 id="bayesian-hypothesis-testing-using-the-bayes-factor">Bayesian hypothesis testing using the Bayes factor<a class="anchor" aria-label="anchor" href="#bayesian-hypothesis-testing-using-the-bayes-factor"></a>
</h4>
<p>Bayesian hypothesis testing uses the Bayes factor, <span class="math inline">\(BF_{10}\)</span> or <span class="math inline">\(BF_{01}\)</span>, to make a statement about the
evidence provided by the sample in support for one of the two hypotheses
<span class="math inline">\(H_1\)</span> or <span class="math inline">\(H_0\)</span>. The subscript The Bayes factor
denotes which hypothesis it favors. By default, the
<code><a href="../reference/evaluation.html">evaluation()</a></code> function returns the value for <span class="math inline">\(BF_{10}\)</span>.</p>
<p>As an example of how to interpret the Bayes factor, the value of
<span class="math inline">\(BF_{10} = 10\)</span> (provided by the
<code><a href="../reference/evaluation.html">evaluation()</a></code> function) can be interpreted as: <em>the data
are 10 times more likely to have occurred under the hypothesis <span class="math inline">\(H_1:\theta&lt;\theta_{max}\)</span> than under the
hypothesis <span class="math inline">\(H_0:\theta\geq\theta_{max}\)</span></em>. <span class="math inline">\(BF_{10} &gt; 1\)</span> indicates evidence for
<span class="math inline">\(H_1\)</span>, while <span class="math inline">\(BF_{10} &lt; 1\)</span> indicates evidence for
<span class="math inline">\(H_0\)</span>.</p>
<table class="table">
<thead><tr class="header">
<th><span class="math inline">\(BF_{10}\)</span></th>
<th>Strength of evidence</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(&lt; 0.01\)</span></td>
<td>Extreme evidence for <span class="math inline">\(H_0\)</span>
</td>
</tr>
<tr class="even">
<td><span class="math inline">\(0.01 - 0.033\)</span></td>
<td>Very strong evidence for <span class="math inline">\(H_0\)</span>
</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(0.033 - 0.10\)</span></td>
<td>Strong evidence for <span class="math inline">\(H_0\)</span>
</td>
</tr>
<tr class="even">
<td><span class="math inline">\(0.10 - 0.33\)</span></td>
<td>Moderate evidence for <span class="math inline">\(H_0\)</span>
</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(0.33 - 1\)</span></td>
<td>Anecdotal evidence for <span class="math inline">\(H_0\)</span>
</td>
</tr>
<tr class="even">
<td><span class="math inline">\(1\)</span></td>
<td>No evidence for <span class="math inline">\(H_1\)</span> or <span class="math inline">\(H_0\)</span>
</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(1 - 3\)</span></td>
<td>Anecdotal evidence for <span class="math inline">\(H_1\)</span>
</td>
</tr>
<tr class="even">
<td><span class="math inline">\(3 - 10\)</span></td>
<td>Moderate evidence for <span class="math inline">\(H_1\)</span>
</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(10 - 30\)</span></td>
<td>Strong evidence for <span class="math inline">\(H_1\)</span>
</td>
</tr>
<tr class="even">
<td><span class="math inline">\(30 - 100\)</span></td>
<td>Very strong evidence for <span class="math inline">\(H_1\)</span>
</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(&gt; 100\)</span></td>
<td>Extreme evidence for <span class="math inline">\(H_1\)</span>
</td>
</tr>
</tbody>
</table>
<p>Consider the previous example of an auditor who wants to verify
whether the population contains less than 5 percent misstatement,
implying the hypotheses <span class="math inline">\(H_1:\theta&lt;0.05\)</span> and <span class="math inline">\(H_0:\theta\geq0.05\)</span>. They have taken a
sample of 100 items, of which 1 contained an error. The prior
distribution is assumed to be a default <em>beta(1,1)</em> prior.</p>
<p>The output below shows that <span class="math inline">\(BF_{10}=515\)</span>, implying that there is
extreme evidence for <span class="math inline">\(H_1\)</span>, the
hypothesis that the population contains misstatements lower than 5
percent of the population.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="fl">0.05</span>, method <span class="op">=</span> <span class="st">"default"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span><span class="op">)</span></span>
<span><span class="va">result_bayesian</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/evaluation.html">evaluation</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="fl">0.05</span>, x <span class="op">=</span> <span class="fl">1</span>, n <span class="op">=</span> <span class="fl">100</span>, prior <span class="op">=</span> <span class="va">prior</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Using 'method = binomial' from 'prior'</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_bayesian</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Bayesian Audit Sample Evaluation Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Confidence level:               0.95 </span></span>
<span><span class="co">##   Materiality:                    0.05 </span></span>
<span><span class="co">##   Hypotheses:                     H₀: Θ &gt; 0.05 vs. H₁: Θ &lt; 0.05 </span></span>
<span><span class="co">##   Method:                         binomial </span></span>
<span><span class="co">##   Prior distribution:             beta(α = 1, β = 1) </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data:</span></span>
<span><span class="co">##   Sample size:                    100 </span></span>
<span><span class="co">##   Number of errors:               1 </span></span>
<span><span class="co">##   Sum of taints:                  1 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Posterior distribution:         beta(α = 2, β = 100) </span></span>
<span><span class="co">##   Most likely error:              0.01 </span></span>
<span><span class="co">##   95 percent credible interval:   [0, 0.046107] </span></span>
<span><span class="co">##   Precision:                      0.036107 </span></span>
<span><span class="co">##   BF₁₀:                            515.86</span></span></code></pre>
<p>Note that, in audit sampling, the Bayes factor is dependent on the
prior distribution for <span class="math inline">\(\theta\)</span>. As a
rule of thumb, when the prior distribution is very uninformative (as
with <code>method = 'default'</code>) with respect to <span class="math inline">\(\theta\)</span>, the Bayes factor tends to
overquantify the evidence in favor of <span class="math inline">\(H_1\)</span>. You can mitigate this dependency
using <code>method = "impartial"</code> in the <code><a href="../reference/auditPrior.html">auditPrior()</a></code>
function, which constructs a prior distribution that is impartial with
respect to the hypotheses <span class="math inline">\(H_1\)</span> and
<span class="math inline">\(H_0\)</span>.</p>
<p>The output below shows that <span class="math inline">\(BF_{10}=47\)</span>, implying that there is strong
evidence for <span class="math inline">\(H_1\)</span>, the hypothesis
that the population contains misstatements lower than 5 percent of the
population. Since the two priors both resulted in convincing Bayes
factors, the results are robust to the choice of prior distribution.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="fl">0.05</span>, method <span class="op">=</span> <span class="st">"impartial"</span>, likelihood <span class="op">=</span> <span class="st">"binomial"</span><span class="op">)</span></span>
<span><span class="va">result_bayesian</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/evaluation.html">evaluation</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="fl">0.05</span>, x <span class="op">=</span> <span class="fl">1</span>, n <span class="op">=</span> <span class="fl">100</span>, prior <span class="op">=</span> <span class="va">prior</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Using 'method = binomial' from 'prior'</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_bayesian</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Bayesian Audit Sample Evaluation Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Confidence level:               0.95 </span></span>
<span><span class="co">##   Materiality:                    0.05 </span></span>
<span><span class="co">##   Hypotheses:                     H₀: Θ &gt; 0.05 vs. H₁: Θ &lt; 0.05 </span></span>
<span><span class="co">##   Method:                         binomial </span></span>
<span><span class="co">##   Prior distribution:             beta(α = 1, β = 13.513) </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data:</span></span>
<span><span class="co">##   Sample size:                    100 </span></span>
<span><span class="co">##   Number of errors:               1 </span></span>
<span><span class="co">##   Sum of taints:                  1 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Posterior distribution:         beta(α = 2, β = 112.513) </span></span>
<span><span class="co">##   Most likely error:              0.0088878 </span></span>
<span><span class="co">##   95 percent credible interval:   [0, 0.041108] </span></span>
<span><span class="co">##   Precision:                      0.03222 </span></span>
<span><span class="co">##   BF₁₀:                            47.435</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="estimation">Estimation<a class="anchor" aria-label="anchor" href="#estimation"></a>
</h3>
<p>When performing estimation the auditor tries to determine the unknown
misstatement in the population on the basis of a sample. Generally,
estimation implies that there is a minimal amount of assurance to be
obtained about the precision / accuracy of your estimate (i.e., the most
likely error - the upper bound). This inference about the population
misstatement can be performed using the <code><a href="../reference/evaluation.html">evaluation()</a></code>
function by specifying the <code>min.precision</code> argument and
providing the sample data or summary statistics.</p>
<div class="section level4">
<h4 id="classical-estimation">Classical estimation<a class="anchor" aria-label="anchor" href="#classical-estimation"></a>
</h4>
<p>Suppose your sampling objective is to estimate the misstatement with
a precision of 2%. You have planned a sample of <em>n</em> = 188 items
from which <em>x</em> = 1 turns out a contain an error. Standard
classical evaluation using the Poisson distribution can be performed
using the example code below. Calling the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>
function on the result from the <code><a href="../reference/evaluation.html">evaluation()</a></code> function
provides the estimates for the most likely error, the 95% upper bound,
and the precision.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result_classical</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/evaluation.html">evaluation</a></span><span class="op">(</span>min.precision <span class="op">=</span> <span class="fl">0.02</span>, method <span class="op">=</span> <span class="st">"poisson"</span>, n <span class="op">=</span> <span class="fl">188</span>, x <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_classical</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Classical Audit Sample Evaluation Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Confidence level:               0.95 </span></span>
<span><span class="co">##   Min. precision:                 0.02 </span></span>
<span><span class="co">##   Method:                         poisson </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data:</span></span>
<span><span class="co">##   Sample size:                    188 </span></span>
<span><span class="co">##   Number of errors:               1 </span></span>
<span><span class="co">##   Sum of taints:                  1 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Most likely error:              0.0053191 </span></span>
<span><span class="co">##   95 percent confidence interval: [0, 0.025233] </span></span>
<span><span class="co">##   Precision:                      0.019914</span></span></code></pre>
<p>As we can see, the most likely error in the population is 1 / 188 =
0.53% and the 95% (one-sided) confidence interval ranges from 0% to
2.52%. Consequently, the precision of the estimate is 2.52% - 0.53% =
1.99%. This means that this sample provides sufficient information to
estimate the misstatement in the population with a precision of 2%.</p>
</div>
<div class="section level4">
<h4 id="bayesian-estimation">Bayesian estimation<a class="anchor" aria-label="anchor" href="#bayesian-estimation"></a>
</h4>
<p>In principle Bayesian estimation follows the same procedure as its
classical counterpart, with the exception that a prior distribution must
be provided to the <code><a href="../reference/evaluation.html">evaluation()</a></code> function. Therefore, the
first step is to set up a prior distribution (see also the vignette <a href="https://koenderks.github.io/jfa/articles/v3_prior_distributions.html" class="external-link">Prior
distributions</a>). For illustration, we will assume a
<code>default</code> <em>gamma(1, 1)</em> prior distribution. The sample
outcomes together with the prior distribution can then be provided to
the evaluation function. Once again, the <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> function
provides the estimates for the most likely error, the 95% upper bound,
and the precision. Note that, because the prior is already constructed
for use with a <code>poisson</code> likelihood, the <code>method</code>
argument does not need to be provided to the <code><a href="../reference/evaluation.html">evaluation()</a></code>
function.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"default"</span>, likelihood <span class="op">=</span> <span class="st">"poisson"</span><span class="op">)</span></span>
<span><span class="va">result_bayesian</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/evaluation.html">evaluation</a></span><span class="op">(</span>min.precision <span class="op">=</span> <span class="fl">0.02</span>, n <span class="op">=</span> <span class="fl">188</span>, x <span class="op">=</span> <span class="fl">1</span>, prior <span class="op">=</span> <span class="va">prior</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_bayesian</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Bayesian Audit Sample Evaluation Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Confidence level:               0.95 </span></span>
<span><span class="co">##   Min. precision:                 0.02 </span></span>
<span><span class="co">##   Method:                         poisson </span></span>
<span><span class="co">##   Prior distribution:             gamma(α = 1, β = 1) </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data:</span></span>
<span><span class="co">##   Sample size:                    188 </span></span>
<span><span class="co">##   Number of errors:               1 </span></span>
<span><span class="co">##   Sum of taints:                  1 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Posterior distribution:         gamma(α = 2, β = 189) </span></span>
<span><span class="co">##   Most likely error:              0.005291 </span></span>
<span><span class="co">##   95 percent credible interval:   [0, 0.0251] </span></span>
<span><span class="co">##   Precision:                      0.019809</span></span></code></pre>
<p>As we can see, the posterior distribution is a <em>gamma(2, 189)</em>
distribution. This distribution implies a most likely error in the
population is 0.53% and a 95% (one-sided) confidence interval that
ranges from 0% to 2.51%. Consequently, the precision of the estimate is
2.51% - 0.53% = 1.98%. Also in the Bayesian framework, this sample
provides sufficient information to estimate the misstatement in the
population with a precision of 2%.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="evaluation-of-stratified-samples">Evaluation of stratified samples<a class="anchor" aria-label="anchor" href="#evaluation-of-stratified-samples"></a>
</h2>
<p>A stratified sample evaluation applies when the population is divided
into distinct groups of items (i.e, strata). For illustrative purposes,
we do not show both classical and Bayesian procedures but the syntax
remains the same.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">retailer</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">retailer</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##    stratum items samples errors</span></span>
<span><span class="co">## 1        1  5000     300     21</span></span>
<span><span class="co">## 2        2  5000     300     16</span></span>
<span><span class="co">## 3        3  5000     300     15</span></span>
<span><span class="co">## 4        4  5000     300     14</span></span>
<span><span class="co">## 5        5  5000     300     16</span></span>
<span><span class="co">## 6        6  5000     150      5</span></span>
<span><span class="co">## 7        7  5000     150      4</span></span>
<span><span class="co">## 8        8  5000     150      3</span></span>
<span><span class="co">## 9        9  5000     150      4</span></span>
<span><span class="co">## 10      10  5000     150      5</span></span>
<span><span class="co">## 11      11 10000      50      2</span></span>
<span><span class="co">## 12      12 10000      50      3</span></span>
<span><span class="co">## 13      13 10000      50      2</span></span>
<span><span class="co">## 14      14 10000      50      1</span></span>
<span><span class="co">## 15      15 10000      50      0</span></span>
<span><span class="co">## 16      16 10000      15      0</span></span>
<span><span class="co">## 17      17 10000      15      0</span></span>
<span><span class="co">## 18      18 10000      15      0</span></span>
<span><span class="co">## 19      19 10000      15      1</span></span>
<span><span class="co">## 20      20  4000      15      3</span></span></code></pre>
<p>Typically, there are 3 approaches to evaluating a stratified sample:
no pooling, complete pooling, and partial pooling (see Derks et al.,
2022). No pooling assumes no similarities between strata, which means
that all data must be analyzed independently on the level of the strata.
Complete pooling assumes no difference between strata and all data is
aggregated so that it can be analyzed as a whole. Partial pooling
assumes differences and similarities between strata, which enables
information to be shared between strata.</p>
<div class="section level3">
<h3 id="approach-1-no-pooling">Approach 1: No pooling<a class="anchor" aria-label="anchor" href="#approach-1-no-pooling"></a>
</h3>
<p>No pooling assumes no similarities between strata. This allows the
auditor to differentiate between strata, which means that a stratum
specific conclusion is possible. However, because all strata are assumed
to be independent, this increases the uncertainty of the population
estimate.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="co"># Important because the posterior distribution is determined via sampling</span></span>
<span><span class="va">result_np</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/evaluation.html">evaluation</a></span><span class="op">(</span></span>
<span>  materiality <span class="op">=</span> <span class="fl">0.05</span>, method <span class="op">=</span> <span class="st">"binomial"</span>, prior <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n <span class="op">=</span> <span class="va">retailer</span><span class="op">$</span><span class="va">samples</span>, x <span class="op">=</span> <span class="va">retailer</span><span class="op">$</span><span class="va">errors</span>, N.units <span class="op">=</span> <span class="va">retailer</span><span class="op">$</span><span class="va">items</span>,</span>
<span>  alternative <span class="op">=</span> <span class="st">"two.sided"</span>, pooling <span class="op">=</span> <span class="st">"none"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_np</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Bayesian Audit Sample Evaluation Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Confidence level:               0.95 </span></span>
<span><span class="co">##   Population size:                144000 </span></span>
<span><span class="co">##   Materiality:                    0.05 </span></span>
<span><span class="co">##   Hypotheses:                     H₀: Θ = 0.05 vs. H₁: Θ ≠ 0.05 </span></span>
<span><span class="co">##   Method:                         binomial </span></span>
<span><span class="co">##   Prior distribution:             beta(α = 1, β = 1) </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data:</span></span>
<span><span class="co">##   Sample size:                    2575 </span></span>
<span><span class="co">##   Number of errors:               115 </span></span>
<span><span class="co">##   Sum of taints:                  115 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Posterior distribution:         Approximated via MCMC sampling </span></span>
<span><span class="co">##   Most likely error:              0.058487 </span></span>
<span><span class="co">##   95 percent credible interval:   [0.042763, 0.082201] </span></span>
<span><span class="co">##   Precision:                      0.023714 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Strata (20):</span></span>
<span><span class="co">##      n  x  t      mle        lb       ub precision     bf10</span></span>
<span><span class="co">## 1  300 21 21 0.070000 0.0463692 0.104672  0.034672  8.74677</span></span>
<span><span class="co">## 2  300 16 16 0.053333 0.0332413 0.084889  0.031555 29.65662</span></span>
<span><span class="co">## 3  300 15 15 0.050000 0.0306850 0.080862  0.030862 31.63373</span></span>
<span><span class="co">## 4  300 14 14 0.046667 0.0281564 0.076808  0.030141 31.52312</span></span>
<span><span class="co">## 5  300 16 16 0.053333 0.0332413 0.084889  0.031555 29.65662</span></span>
<span><span class="co">## 6  150  5  5 0.033333 0.0147195 0.075580  0.042246 16.43531</span></span>
<span><span class="co">## 7  150  4  4 0.026667 0.0108374 0.066434  0.039768 10.69421</span></span>
<span><span class="co">## 8  150  3  3 0.020000 0.0072638 0.056962  0.036962  5.52898</span></span>
<span><span class="co">## 9  150  4  4 0.026667 0.0108374 0.066434  0.039768 10.69421</span></span>
<span><span class="co">## 10 150  5  5 0.033333 0.0147195 0.075580  0.042246 16.43531</span></span>
<span><span class="co">## 11  50  2  2 0.040000 0.0122991 0.134586  0.094586 13.31617</span></span>
<span><span class="co">## 12  50  3  3 0.060000 0.0217836 0.162422  0.102422 11.21362</span></span>
<span><span class="co">## 13  50  2  2 0.040000 0.0122991 0.134586  0.094586 13.31617</span></span>
<span><span class="co">## 14  50  1  1 0.020000 0.0047850 0.104475  0.084475 10.32683</span></span>
<span><span class="co">## 15  50  0  0 0.000000 0.0004963 0.069777  0.069777  3.92419</span></span>
<span><span class="co">## 16  15  0  0 0.000000 0.0015811 0.205907  0.205907  7.41266</span></span>
<span><span class="co">## 17  15  0  0 0.000000 0.0015811 0.205907  0.205907  7.41266</span></span>
<span><span class="co">## 18  15  0  0 0.000000 0.0015811 0.205907  0.205907  7.41266</span></span>
<span><span class="co">## 19  15  1  1 0.066667 0.0155136 0.302321  0.235654  5.85210</span></span>
<span><span class="co">## 20  15  3  3 0.200000 0.0726620 0.456457  0.256457  0.49173</span></span></code></pre>
<p>In this case, the output shows that the population level estimate is
5.85% with a 95% credible interval ranging from 4.28% to 8.22%. The
stratum estimates differ from each other.</p>
<p><img src="v7-audit-sampling-evaluation_files/figure-html/unnamed-chunk-8-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="approach-2-complete-pooling">Approach 2: Complete pooling<a class="anchor" aria-label="anchor" href="#approach-2-complete-pooling"></a>
</h3>
<p>Complete pooling assumes no differences between strata. This has the
advantages that data can be aggregated, which decreases the uncertainty
of the population estimate. However, the disadvantage of this approach
is that it does not allow the auditor to differentiate between strata,
as every stratum receives the same estimate (equal to the population
estimate).</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">result_cp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/evaluation.html">evaluation</a></span><span class="op">(</span></span>
<span>  materiality <span class="op">=</span> <span class="fl">0.05</span>, method <span class="op">=</span> <span class="st">"binomial"</span>, prior <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n <span class="op">=</span> <span class="va">retailer</span><span class="op">$</span><span class="va">samples</span>, x <span class="op">=</span> <span class="va">retailer</span><span class="op">$</span><span class="va">errors</span>, N.units <span class="op">=</span> <span class="va">retailer</span><span class="op">$</span><span class="va">items</span>,</span>
<span>  alternative <span class="op">=</span> <span class="st">"two.sided"</span>, pooling <span class="op">=</span> <span class="st">"complete"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_cp</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Bayesian Audit Sample Evaluation Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Confidence level:               0.95 </span></span>
<span><span class="co">##   Population size:                144000 </span></span>
<span><span class="co">##   Materiality:                    0.05 </span></span>
<span><span class="co">##   Hypotheses:                     H₀: Θ = 0.05 vs. H₁: Θ ≠ 0.05 </span></span>
<span><span class="co">##   Method:                         binomial </span></span>
<span><span class="co">##   Prior distribution:             beta(α = 1, β = 1) </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data:</span></span>
<span><span class="co">##   Sample size:                    2575 </span></span>
<span><span class="co">##   Number of errors:               115 </span></span>
<span><span class="co">##   Sum of taints:                  115 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Posterior distribution:         beta(α = 116, β = 2461) </span></span>
<span><span class="co">##   Most likely error:              0.04466 </span></span>
<span><span class="co">##   95 percent credible interval:   [0.03735, 0.053345] </span></span>
<span><span class="co">##   Precision:                      0.0086852 </span></span>
<span><span class="co">##   BF₁₀:                            0.022725 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Strata (20):</span></span>
<span><span class="co">##      n  x  t     mle      lb       ub precision</span></span>
<span><span class="co">## 1  300 21 21 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 2  300 16 16 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 3  300 15 15 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 4  300 14 14 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 5  300 16 16 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 6  150  5  5 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 7  150  4  4 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 8  150  3  3 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 9  150  4  4 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 10 150  5  5 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 11  50  2  2 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 12  50  3  3 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 13  50  2  2 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 14  50  1  1 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 15  50  0  0 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 16  15  0  0 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 17  15  0  0 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 18  15  0  0 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 19  15  1  1 0.04466 0.03735 0.053345 0.0086852</span></span>
<span><span class="co">## 20  15  3  3 0.04466 0.03735 0.053345 0.0086852</span></span></code></pre>
<p>For example, the output shows that the population level estimate is
4.47% with a 95% credible interval ranging from 3.74% to 5.33%. However,
the stratum estimates are all the same.</p>
<p><img src="v7-audit-sampling-evaluation_files/figure-html/unnamed-chunk-10-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="approach-3-partial-pooling">Approach 3: Partial pooling<a class="anchor" aria-label="anchor" href="#approach-3-partial-pooling"></a>
</h3>
<p>Finally, partial pooling assumes differences and similarities between
strata. This allows the auditor to differentiate between strata, while
also retaining the decreased uncertainty obtained by aggregating
information. Partial pooling is a powerful technique that can result in
more efficient population and stratum estimates.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="co"># Important because the posterior distribution is determined via sampling</span></span>
<span><span class="va">result_pp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/evaluation.html">evaluation</a></span><span class="op">(</span></span>
<span>  materiality <span class="op">=</span> <span class="fl">0.05</span>, method <span class="op">=</span> <span class="st">"binomial"</span>, prior <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n <span class="op">=</span> <span class="va">retailer</span><span class="op">$</span><span class="va">samples</span>, x <span class="op">=</span> <span class="va">retailer</span><span class="op">$</span><span class="va">errors</span>, N.units <span class="op">=</span> <span class="va">retailer</span><span class="op">$</span><span class="va">items</span>,</span>
<span>  alternative <span class="op">=</span> <span class="st">"two.sided"</span>, pooling <span class="op">=</span> <span class="st">"partial"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">result_pp</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Bayesian Audit Sample Evaluation Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Confidence level:               0.95 </span></span>
<span><span class="co">##   Population size:                144000 </span></span>
<span><span class="co">##   Materiality:                    0.05 </span></span>
<span><span class="co">##   Hypotheses:                     H₀: Θ = 0.05 vs. H₁: Θ ≠ 0.05 </span></span>
<span><span class="co">##   Method:                         binomial </span></span>
<span><span class="co">##   Prior distribution:             beta(α = 1, β = 1) </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Data:</span></span>
<span><span class="co">##   Sample size:                    2575 </span></span>
<span><span class="co">##   Number of errors:               115 </span></span>
<span><span class="co">##   Sum of taints:                  115 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Posterior distribution:         Approximated via MCMC sampling </span></span>
<span><span class="co">##   Most likely error:              0.042651 </span></span>
<span><span class="co">##   95 percent credible interval:   [0.034531, 0.052978] </span></span>
<span><span class="co">##   Precision:                      0.010327 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Strata (20):</span></span>
<span><span class="co">##      n  x  t      mle       lb       ub precision</span></span>
<span><span class="co">## 1  300 21 21 0.047822 0.037654 0.080365  0.032543</span></span>
<span><span class="co">## 2  300 16 16 0.045912 0.033001 0.066540  0.020628</span></span>
<span><span class="co">## 3  300 15 15 0.045243 0.031779 0.064036  0.018793</span></span>
<span><span class="co">## 4  300 14 14 0.044336 0.030987 0.060968  0.016632</span></span>
<span><span class="co">## 5  300 16 16 0.044752 0.033070 0.066507  0.021755</span></span>
<span><span class="co">## 6  150  5  5 0.042196 0.024343 0.058789  0.016593</span></span>
<span><span class="co">## 7  150  4  4 0.042601 0.021613 0.056279  0.013677</span></span>
<span><span class="co">## 8  150  3  3 0.042457 0.018973 0.055371  0.012914</span></span>
<span><span class="co">## 9  150  4  4 0.043427 0.021899 0.057133  0.013705</span></span>
<span><span class="co">## 10 150  5  5 0.043672 0.023440 0.059221  0.015549</span></span>
<span><span class="co">## 11  50  2  2 0.042783 0.023091 0.066674  0.023890</span></span>
<span><span class="co">## 12  50  3  3 0.043735 0.026569 0.073493  0.029757</span></span>
<span><span class="co">## 13  50  2  2 0.043292 0.023714 0.067575  0.024283</span></span>
<span><span class="co">## 14  50  1  1 0.043179 0.020364 0.062599  0.019420</span></span>
<span><span class="co">## 15  50  0  0 0.042914 0.017243 0.058847  0.015933</span></span>
<span><span class="co">## 16  15  0  0 0.043091 0.019445 0.067521  0.024430</span></span>
<span><span class="co">## 17  15  0  0 0.043095 0.019703 0.068189  0.025094</span></span>
<span><span class="co">## 18  15  0  0 0.043962 0.019974 0.066101  0.022139</span></span>
<span><span class="co">## 19  15  1  1 0.044186 0.023618 0.074444  0.030259</span></span>
<span><span class="co">## 20  15  3  3 0.044386 0.030763 0.105138  0.060753</span></span></code></pre>
<p>In this case, the output shows that the population level estimate is
4.34% with a 95% credible interval ranging from 3.45% to 5.33%. Like in
the previous approach, the stratum estimates are different. However,
partial pooling puts the stratum estimates closer together and makes
them more accurate.</p>
<p><img src="v7-audit-sampling-evaluation_files/figure-html/unnamed-chunk-12-1.png" width="576"></p>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li><p>Derks, K., de Swart, J., van Batenburg, P., Wagenmakers, E.-J.,
and Wetzels, R. (2021). Priors in a Bayesian audit: How integration of
existing information into the prior distribution can improve audit
transparency and efficiency. <em>International Journal of Auditing</em>,
25(3), 621-636.</p></li>
<li><p>Derks, K., de Swart, J., Wagenmakers, E.-J., &amp; Wetzels, R.
(2021). The Bayesian Approach to Audit Evidence: Quantifying Statistical
Evidence using the Bayes Factor. <em>PsyArXiv</em>.</p></li>
<li><p>Derks, K., de Swart, J., Wagenmakers, E.-J., &amp; Wetzels, R.
(2022). Bayesian Generalized Linear Modeling for Audit Sampling: How to
Incorporate Audit Information into the Statistical Model.
<em>PsyArXiv</em>.</p></li>
<li><p>Stewart, T. R. (2012). <em>Technical Notes on the AICPA Audit
Guide Audit Sampling</em>. American Institute of Certified Public
Accountants, New York.</p></li>
<li><p>Stewart, T. R. (2013). <em>A Bayesian Audit Assurance Model with
Application to the Component Materiality problem in Group Audits.</em>
VU University, Amsterdam.</p></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Koen Derks.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
