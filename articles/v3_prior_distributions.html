<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="jfa">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/5/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Planning: Prior distributions • jfa</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Planning: Prior distributions">
<meta property="og:description" content="jfa">
<meta property="og:image" content="https://koenderks.github.io/jfa/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/5/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/5/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="../preferably.css">
<link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
<script src="../darkswitch.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">jfa</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/jfa.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/v1_sampling_workflow.html">Workflow: Classical audit sampling</a>
    <a class="dropdown-item" href="../articles/v2_bayesian_sampling_workflow.html">Workflow: Bayesian audit sampling</a>
    <a class="dropdown-item" href="../articles/v3_prior_distributions.html">Planning: Prior distributions</a>
    <a class="dropdown-item" href="../articles/v4_selection_methodology.html">Selection: Sampling methodology</a>
    <a class="dropdown-item" href="../articles/v5_estimating_misstatement.html">Evaluation: Estimating misstatement</a>
    <a class="dropdown-item" href="../articles/v6_testing_misstatement.html">Evaluation: Testing misstatement</a>
    <a class="dropdown-item" href="../articles/v7_bayes_factors_summary_statistics.html">Evaluation: Bayes factors using summary statistics</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/koenderks/jfa/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>

        
        <li>
          <a class="external-link nav-link" id="css-toggle-btn" aria-label="github">
            <span class="fas fa fas fa-adjust fa-lg"></span>
          </a>
        </li>
        
        
        
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="v3_prior_distributions_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Planning: Prior distributions</h1>
                        <h4 data-toc-skip class="author">Koen Derks</h4>
            
            <h4 data-toc-skip class="date">last modified: 19-08-2021</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/koenderks/jfa/tree/developmentvignettes/v3_prior_distributions.Rmd" class="external-link"><code>vignettes/v3_prior_distributions.Rmd</code></a></small>
      <div class="d-none name"><code>v3_prior_distributions.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="bayesian-inference">Bayesian inference<a class="anchor" aria-label="anchor" href="#bayesian-inference"></a>
</h2>
<p>Bayesian statistics allows you to incorporate existing information into the sampling procedure and to revise this information using the information from the sample. The use of the prior distribution can potentially decrease the amount of audit work required to achieve the desired assurance, thereby increasing your efficiency as an auditor. For example, when you have information from the auditee’s internal controls that indicates a low-risk profile, you may build on this information to require less evidence from substantive testing. Be aware that all information that you incorporate into the statistical analysis should be justified.</p>
<div class="section level3">
<h3 id="prior-probability-distributions">Prior probability distributions<a class="anchor" aria-label="anchor" href="#prior-probability-distributions"></a>
</h3>
<p>Bayesian statistics incorporates existing information into the sampling procedure using a prior probability distribution. The prior distribution is a probability distribution that reflects your existing information about the misstatement in the population. Because the prior distribution is based on existing information, it is usually created before the auditor starts planning a sample.</p>
</div>
</div>
<div class="section level2">
<h2 id="constructing-a-prior-distribution">Constructing a prior distribution<a class="anchor" aria-label="anchor" href="#constructing-a-prior-distribution"></a>
</h2>
<p>What information can be incorporated into the prior distribution depends on what type of information is available, the quality of that information, and the situation at hand. When the auditor has decided what kind of information they want to incorporate into a prior distribution, they can use the <code><a href="../reference/auditPrior.html">auditPrior()</a></code> function to calculate the corresponding parameters of the prior distribution. Below we discuss the various types of audit information that <code>jfa</code> is able to incorporate into a prior distribution.</p>
<p>First, we set some default options for the confidence, performance materiality, the likelihood, and the expected errors in the sample.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">confidence</span>  <span class="op">&lt;-</span> <span class="fl">0.95</span>       <span class="co"># 95% confidence</span></span>
<span><span class="va">likelihood</span>  <span class="op">&lt;-</span> <span class="st">'binomial'</span> <span class="co"># Binomial likelihood</span></span>
<span><span class="va">materiality</span> <span class="op">&lt;-</span> <span class="fl">0.05</span>       <span class="co"># Performance materiality of 5%</span></span>
<span><span class="va">expected</span>    <span class="op">&lt;-</span> <span class="fl">0.01</span>       <span class="co"># 1% errors expected in sample</span></span></code></pre></div>
<div class="section level3">
<h3 id="minimal-information-priors-method-default">Minimal information priors (<code>method = 'default'</code>)<a class="anchor" aria-label="anchor" href="#minimal-information-priors-method-default"></a>
</h3>
<p>You can construct a prior distribution from minimal information using <code>method = 'default'</code>. As an example, the code below incorporates minimal information into a prior distribution.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">'default'</span>, likelihood <span class="op">=</span> <span class="va">likelihood</span>, expected <span class="op">=</span> <span class="va">expected</span>, conf.level <span class="op">=</span> <span class="va">confidence</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">prior1</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Likelihood:                    binomial </span></span>
<span><span class="co">##   Specifics:                     noninformative </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Functional form:               beta(α = 1, β = 1) </span></span>
<span><span class="co">##   Equivalent sample size:        1 </span></span>
<span><span class="co">##   Equivalent errors:             0 </span></span>
<span><span class="co">##   Mode:                          NaN </span></span>
<span><span class="co">##   Mean:                          0.5 </span></span>
<span><span class="co">##   Median:                        0.5 </span></span>
<span><span class="co">##   Variance:                      0.083333 </span></span>
<span><span class="co">##   Skewness:                      0 </span></span>
<span><span class="co">##   95 percent upper bound:        0.95 </span></span>
<span><span class="co">##   Precision:                     NaN</span></span></code></pre>
<p>You can visually inspect the prior distribution using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">prior1</span><span class="op">)</span></span></code></pre></div>
<p><img src="v3_prior_distributions_files/figure-html/unnamed-chunk-3-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="prior-distributions-with-classical-properties-method-strict">Prior distributions with classical properties (<code>method = 'strict'</code>)<a class="anchor" aria-label="anchor" href="#prior-distributions-with-classical-properties-method-strict"></a>
</h3>
<p>You can construct a prior distribution on the basis of no existing information using <code>method = 'strict'</code>. The prior distribution that is constructed is improper but yields exactly the same results as the classical methodology with respect to sample sizes, upper limits, and evidence.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">'strict'</span>, likelihood <span class="op">=</span> <span class="va">likelihood</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">prior2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Likelihood:                    binomial </span></span>
<span><span class="co">##   Specifics:                     classical properties </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Functional form:               beta(α = 1, β = 0) </span></span>
<span><span class="co">##   Equivalent sample size:        0 </span></span>
<span><span class="co">##   Equivalent errors:             0 </span></span>
<span><span class="co">##   Mode:                          0 </span></span>
<span><span class="co">##   Mean:                          1 </span></span>
<span><span class="co">##   Median:                        1 </span></span>
<span><span class="co">##   Variance:                      0 </span></span>
<span><span class="co">##   Skewness:                      -Inf </span></span>
<span><span class="co">##   95 percent upper bound:        1 </span></span>
<span><span class="co">##   Precision:                     1</span></span></code></pre>
<p>You can visually inspect the prior distribution using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">prior2</span><span class="op">)</span></span></code></pre></div>
<p><img src="v3_prior_distributions_files/figure-html/unnamed-chunk-5-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="custom-prior-distributions-method-param">Custom prior distributions (<code>method = 'param'</code>)<a class="anchor" aria-label="anchor" href="#custom-prior-distributions-method-param"></a>
</h3>
<p>You can manually specify the <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span> parameters of the prior distribution using <code>method = 'param'</code> in combination with the <code>alpha</code> and <code>beta</code> arguments. As an example, the code below creates a beta(2, 10) prior distribution.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">'param'</span>, likelihood <span class="op">=</span> <span class="va">likelihood</span>, alpha <span class="op">=</span> <span class="fl">2</span>, beta <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">prior3</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Likelihood:                    binomial </span></span>
<span><span class="co">##   Specifics:                     α = 2; β = 10 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Functional form:               beta(α = 2, β = 10) </span></span>
<span><span class="co">##   Equivalent sample size:        11 </span></span>
<span><span class="co">##   Equivalent errors:             1 </span></span>
<span><span class="co">##   Mode:                          0.1 </span></span>
<span><span class="co">##   Mean:                          0.16667 </span></span>
<span><span class="co">##   Median:                        0.14796 </span></span>
<span><span class="co">##   Variance:                      0.010684 </span></span>
<span><span class="co">##   Skewness:                      0.9214 </span></span>
<span><span class="co">##   95 percent upper bound:        0.36436 </span></span>
<span><span class="co">##   Precision:                     0.26436</span></span></code></pre>
<p>You can visually inspect the prior distribution using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">prior3</span><span class="op">)</span></span></code></pre></div>
<p><img src="v3_prior_distributions_files/figure-html/unnamed-chunk-7-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="prior-distributions-with-equal-prior-probabilities-method-impartial">Prior distributions with equal prior probabilities (<code>method = 'impartial'</code>)<a class="anchor" aria-label="anchor" href="#prior-distributions-with-equal-prior-probabilities-method-impartial"></a>
</h3>
<p>You can incorporate the assumption that tolerable misstatement is equally likely as intolerable misstatement using <code>method = 'impartial'</code>. As an example, the code below incorporates this assumption into a prior distribution.</p>
<p><em>Note: This method requires that you specify a value for the <code>materiality</code>.</em></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">'impartial'</span>, likelihood <span class="op">=</span> <span class="va">likelihood</span>, expected <span class="op">=</span> <span class="va">expected</span>, conf.level <span class="op">=</span> <span class="va">confidence</span>, </span>
<span>                     materiality <span class="op">=</span> <span class="va">materiality</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">prior4</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Likelihood:                    binomial </span></span>
<span><span class="co">##   Specifics:                     p(Θ &lt; 0.05) = p(Θ &gt; 0.05) = 0.5 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Functional form:               beta(α = 1.155, β = 16.385) </span></span>
<span><span class="co">##   Equivalent sample size:        16.54 </span></span>
<span><span class="co">##   Equivalent errors:             0.1554 </span></span>
<span><span class="co">##   Mode:                          0.01 </span></span>
<span><span class="co">##   Mean:                          0.065872 </span></span>
<span><span class="co">##   Median:                        0.049999 </span></span>
<span><span class="co">##   Variance:                      0.0033189 </span></span>
<span><span class="co">##   Skewness:                      1.5426 </span></span>
<span><span class="co">##   95 percent upper bound:        0.18118 </span></span>
<span><span class="co">##   Precision:                     0.17118</span></span></code></pre>
<p>You can visually inspect the prior distribution using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">prior4</span><span class="op">)</span></span></code></pre></div>
<p><img src="v3_prior_distributions_files/figure-html/unnamed-chunk-9-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="prior-distributions-with-custom-prior-probabilities-method-hyp">Prior distributions with custom prior probabilities (<code>method = 'hyp'</code>)<a class="anchor" aria-label="anchor" href="#prior-distributions-with-custom-prior-probabilities-method-hyp"></a>
</h3>
<p>You can manually assign prior probabilities to the hypothesis of tolerable misstatement and the hypotheses of intolerable misstatement (using <code>p.hmin</code>) in combination with <code>method = 'hyp'</code>. As an example, the code below incorporates the information that the hypothesis of tolerable misstatement has a probability of 60% into a prior distribution.</p>
<p><em>Note: This method requires that you specify a value for the <code>materiality</code>.</em></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">'hyp'</span>, likelihood <span class="op">=</span> <span class="va">likelihood</span>, expected <span class="op">=</span> <span class="va">expected</span>, conf.level <span class="op">=</span> <span class="va">confidence</span>,</span>
<span>                     materiality <span class="op">=</span> <span class="va">materiality</span>, p.hmin <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">prior5</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Likelihood:                    binomial </span></span>
<span><span class="co">##   Specifics:                     p(Θ &lt; 0.05) = 0.6; p(Θ &gt; 0.05) = 0.4 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Functional form:               beta(α = 1.217, β = 22.493) </span></span>
<span><span class="co">##   Equivalent sample size:        22.71 </span></span>
<span><span class="co">##   Equivalent errors:             0.2171 </span></span>
<span><span class="co">##   Mode:                          0.01 </span></span>
<span><span class="co">##   Mean:                          0.051333 </span></span>
<span><span class="co">##   Median:                        0.039239 </span></span>
<span><span class="co">##   Variance:                      0.0019708 </span></span>
<span><span class="co">##   Skewness:                      1.5724 </span></span>
<span><span class="co">##   95 percent upper bound:        0.13983 </span></span>
<span><span class="co">##   Precision:                     0.12983</span></span></code></pre>
<p>You can visually inspect the prior distribution using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">prior5</span><span class="op">)</span></span></code></pre></div>
<p><img src="v3_prior_distributions_files/figure-html/unnamed-chunk-11-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="prior-distributions-using-the-audit-risk-model-method-arm">Prior distributions using the Audit Risk Model (<code>method = 'arm'</code>)<a class="anchor" aria-label="anchor" href="#prior-distributions-using-the-audit-risk-model-method-arm"></a>
</h3>
<p>You can translate the risk assessments from the Audit Risk Model (inherent risk and internal control risk) into a prior distribution using <code>method = 'arm'</code> in combination with the <code>ir</code> and <code>cr</code> arguments. As an example, the code below incorporates the information that the inherent risk is equal to 90% and that the internal control risk is equal to 60% into a prior distribution.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior6</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">'arm'</span>, likelihood <span class="op">=</span> <span class="va">likelihood</span>, expected <span class="op">=</span> <span class="va">expected</span>, conf.level <span class="op">=</span> <span class="va">confidence</span>,</span>
<span>                     materiality <span class="op">=</span> <span class="va">materiality</span>, ir <span class="op">=</span> <span class="fl">0.9</span>, cr <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">prior6</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Likelihood:                    binomial </span></span>
<span><span class="co">##   Specifics:                     ir = 0.9; cr = 0.6; dr = 0.0925926 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Functional form:               beta(α = 1.21, β = 20.79) </span></span>
<span><span class="co">##   Equivalent sample size:        21 </span></span>
<span><span class="co">##   Equivalent errors:             0.21 </span></span>
<span><span class="co">##   Mode:                          0.0105 </span></span>
<span><span class="co">##   Mean:                          0.055 </span></span>
<span><span class="co">##   Median:                        0.042056 </span></span>
<span><span class="co">##   Variance:                      0.0022598 </span></span>
<span><span class="co">##   Skewness:                      1.5602 </span></span>
<span><span class="co">##   95 percent upper bound:        0.14982 </span></span>
<span><span class="co">##   Precision:                     0.13932</span></span></code></pre>
<p>You can visually inspect the prior distribution using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">prior6</span><span class="op">)</span></span></code></pre></div>
<p><img src="v3_prior_distributions_files/figure-html/unnamed-chunk-13-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="prior-distributions-using-the-bayesian-risk-assessment-model-method-bram">Prior distributions using the Bayesian Risk Assessment Model (<code>method = 'bram'</code>)<a class="anchor" aria-label="anchor" href="#prior-distributions-using-the-bayesian-risk-assessment-model-method-bram"></a>
</h3>
<p>You can incorporate information about the expected errors (mode) and the upper confidence bound of the prior distribution according to the Bayesian Risk Assessment Model (BRAM) using <code>method = 'bram'</code>. As an example, the code below incorporates the information that the mode of the prior distribution is 1% and the upper bound is 60%.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior7</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">'bram'</span>, likelihood <span class="op">=</span> <span class="va">likelihood</span>, expected <span class="op">=</span> <span class="va">expected</span>, conf.level <span class="op">=</span> <span class="va">confidence</span>, </span>
<span>                     materiality <span class="op">=</span> <span class="va">materiality</span>, ub <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">prior7</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Likelihood:                    binomial </span></span>
<span><span class="co">##   Specifics:                     mode = 0.01; upper bound = 0.6 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Functional form:               beta(α = 1.023, β = 3.317) </span></span>
<span><span class="co">##   Equivalent sample size:        3.34 </span></span>
<span><span class="co">##   Equivalent errors:             0.0234 </span></span>
<span><span class="co">##   Mode:                          0.01 </span></span>
<span><span class="co">##   Mean:                          0.23581 </span></span>
<span><span class="co">##   Median:                        0.19356 </span></span>
<span><span class="co">##   Variance:                      0.033746 </span></span>
<span><span class="co">##   Skewness:                      0.90737 </span></span>
<span><span class="co">##   95 percent upper bound:        0.5991 </span></span>
<span><span class="co">##   Precision:                     0.5891</span></span></code></pre>
<p>You can visually inspect the prior distribution using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">prior7</span><span class="op">)</span></span></code></pre></div>
<p><img src="v3_prior_distributions_files/figure-html/unnamed-chunk-15-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="prior-distributions-from-an-earlier-sample-method-sample">Prior distributions from an earlier sample (<code>method = 'sample'</code>)<a class="anchor" aria-label="anchor" href="#prior-distributions-from-an-earlier-sample-method-sample"></a>
</h3>
<p>You can incorporate information from an earlier sample into the prior distribution using <code>method = 'sample'</code> in combination with <code>x</code> and <code>n</code>. As an example, the code below incorporates the information from an earlier sample of 30 items in which 0 misstatements were found into a prior distribution.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior8</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">'sample'</span>, likelihood <span class="op">=</span> <span class="va">likelihood</span>, expected <span class="op">=</span> <span class="va">expected</span>, conf.level <span class="op">=</span> <span class="va">confidence</span>,</span>
<span>                     materiality <span class="op">=</span> <span class="va">materiality</span>, x <span class="op">=</span> <span class="fl">0</span>, n <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">prior8</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Likelihood:                    binomial </span></span>
<span><span class="co">##   Specifics:                     earlier sample of 30 items with 0 errors </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Functional form:               beta(α = 1, β = 30) </span></span>
<span><span class="co">##   Equivalent sample size:        30 </span></span>
<span><span class="co">##   Equivalent errors:             0 </span></span>
<span><span class="co">##   Mode:                          0 </span></span>
<span><span class="co">##   Mean:                          0.032258 </span></span>
<span><span class="co">##   Median:                        0.02284 </span></span>
<span><span class="co">##   Variance:                      0.0009755 </span></span>
<span><span class="co">##   Skewness:                      1.8152 </span></span>
<span><span class="co">##   95 percent upper bound:        0.095034 </span></span>
<span><span class="co">##   Precision:                     0.095034</span></span></code></pre>
<p>You can visually inspect the prior distribution using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">prior8</span><span class="op">)</span></span></code></pre></div>
<p><img src="v3_prior_distributions_files/figure-html/unnamed-chunk-17-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="prior-distributions-from-a-weighted-earlier-sample-method-factor">Prior distributions from a weighted earlier sample (<code>method = 'factor'</code>)<a class="anchor" aria-label="anchor" href="#prior-distributions-from-a-weighted-earlier-sample-method-factor"></a>
</h3>
<p>You can incorporate information from last years results, weighted by a factor, into the prior distribution using <code>method = 'factor'</code> in combination with <code>x</code> and <code>n</code>. As an example, the code below incorporates the information from a last years results (a sample of 58 items in which 0 misstatements were found), weighted by a factor 0.7, into a prior distribution.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prior9</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/auditPrior.html">auditPrior</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">'factor'</span>, likelihood <span class="op">=</span> <span class="va">likelihood</span>, expected <span class="op">=</span> <span class="va">expected</span>, conf.level <span class="op">=</span> <span class="va">confidence</span>,</span>
<span>                     materiality <span class="op">=</span> <span class="va">materiality</span>, x <span class="op">=</span> <span class="fl">0</span>, n <span class="op">=</span> <span class="fl">58</span>, factor <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">prior9</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Prior Distribution Summary</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Options:</span></span>
<span><span class="co">##   Likelihood:                    binomial </span></span>
<span><span class="co">##   Specifics:                     earlier sample of 58 items with 0 errors weighted by 0.7 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Results:</span></span>
<span><span class="co">##   Functional form:               beta(α = 1, β = 40.6) </span></span>
<span><span class="co">##   Equivalent sample size:        40.6 </span></span>
<span><span class="co">##   Equivalent errors:             0 </span></span>
<span><span class="co">##   Mode:                          0 </span></span>
<span><span class="co">##   Mean:                          0.024039 </span></span>
<span><span class="co">##   Median:                        0.016928 </span></span>
<span><span class="co">##   Variance:                      0.0005507 </span></span>
<span><span class="co">##   Skewness:                      1.8607 </span></span>
<span><span class="co">##   95 percent upper bound:        0.07113 </span></span>
<span><span class="co">##   Precision:                     0.07113</span></span></code></pre>
<p>You can visually inspect the prior distribution using the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">prior9</span><span class="op">)</span></span></code></pre></div>
<p><img src="v3_prior_distributions_files/figure-html/unnamed-chunk-19-1.png" width="576"></p>
</div>
</div>
<div class="section level2">
<h2 id="using-a-prior-distribution-in-other-functions">Using a prior distribution in other functions<a class="anchor" aria-label="anchor" href="#using-a-prior-distribution-in-other-functions"></a>
</h2>
<p>Bayesian statistics allows the auditor to build on their existing information. Therefore, the objects returned by the <code><a href="../reference/auditPrior.html">auditPrior()</a></code> function can be used as input for the <code>prior</code> argument in the <code><a href="../reference/planning.html">planning()</a></code> and <code><a href="../reference/evaluation.html">evaluation()</a></code> functions.</p>
<div class="section level3">
<h3 id="combining-auditprior-with-planning">Combining <code>auditPrior()</code> with <code>planning()</code><a class="anchor" aria-label="anchor" href="#combining-auditprior-with-planning"></a>
</h3>
<p>The prior distribution can be used the planning stage to calculate a minimum sample size by providing the objected returned by the <code><a href="../reference/auditPrior.html">auditPrior()</a></code> function to the <code><a href="../reference/planning.html">planning()</a></code> function. For example, the code below calculates the minimum sample size to test the misstatement in the population against a performance materiality of 5%, while incorporating the information in <code>prior9</code>.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jfa</span><span class="fu">::</span><span class="fu"><a href="../reference/planning.html">planning</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="va">materiality</span>, expected <span class="op">=</span> <span class="va">expected</span>, conf.level <span class="op">=</span> <span class="va">confidence</span>, prior <span class="op">=</span> <span class="va">prior9</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Using 'likelihood = binomial' from 'prior'</span></span></code></pre>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Bayesian Audit Sample Planning</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## minimum sample size = 29 </span></span>
<span><span class="co">## sample size obtained in 30 iteration(s) via method 'binomial' + 'prior'</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="combining-auditprior-with-evaluation">Combining <code>auditPrior()</code> with <code>evaluation()</code><a class="anchor" aria-label="anchor" href="#combining-auditprior-with-evaluation"></a>
</h3>
<p>The prior distribution can be used the evaluation stage by providing the objected returned by the <code><a href="../reference/auditPrior.html">auditPrior()</a></code> function to the <code><a href="../reference/evaluation.html">evaluation()</a></code> function. For example, the code below evaluates the misstatement in the population with respect to the performance materiality of 5% after seeing a sample of 60 items with 1 misstatement, while incorporating the information in <code>prior8</code>.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">jfa</span><span class="fu">::</span><span class="fu"><a href="../reference/evaluation.html">evaluation</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="va">materiality</span>, conf.level <span class="op">=</span> <span class="va">confidence</span>, x <span class="op">=</span> <span class="fl">1</span>, n <span class="op">=</span> <span class="fl">60</span>, prior <span class="op">=</span> <span class="va">prior9</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Using 'method = binomial' from 'prior'</span></span></code></pre>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">##  Bayesian Audit Sample Evaluation</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## data:  1 and 60</span></span>
<span><span class="co">## number of errors = 1, number of samples = 60, taint = 1, BF₁₀ = 3.7968</span></span>
<span><span class="co">## alternative hypothesis: true misstatement rate is less than 0.05</span></span>
<span><span class="co">## 95 percent credible interval:</span></span>
<span><span class="co">##  0.00000000 0.04628728</span></span>
<span><span class="co">## estimate:</span></span>
<span><span class="co">##  0.01004016 </span></span>
<span><span class="co">## estimates obtained via method 'binomial' + 'prior'</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li><p>Derks, K., de Swart, J., Wagenmakers, E.-J., and Wetzels, R. (2022). An impartial Bayesian hypothesis test for audit sampling. <em>PsyArXiv</em>.</p></li>
<li><p>Derks, K., de Swart, J., van Batenburg, P., Wagenmakers, E.-J., and Wetzels, R. (2021). Priors in a Bayesian audit: How integration of existing information into the prior distribution can improve audit transparency and efficiency. <em>International Journal of Auditing</em>, 25(3), 621-636.</p></li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://koenderks.com" class="external-link">Koen Derks</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
