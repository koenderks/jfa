<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Audit Sampling: Prior Distributions — auditPrior • jfa</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Audit Sampling: Prior Distributions — auditPrior"><meta property="og:description" content="auditPrior() is used to create a prior distribution for
Bayesian audit sampling. The interface allows a complete customization of the
prior distribution as well as a formal translation of pre-existing audit
information into a prior distribution. The function returns an object of
class jfaPrior that can be used in the planning() and
evaluation() functions via their prior argument. Objects with
class jfaPrior can be further inspected via associated
summary() and plot() methods."><meta property="og:image" content="https://koenderks.github.io/jfa/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jfa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/jfa.html">Get started</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/koenderks/jfa" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/koenderks/jfa/discussions" class="external-link">
    <span class="fa fa-users"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Audit Sampling: Prior Distributions</h1>
    <small class="dont-index">Source: <a href="https://github.com/koenderks/jfa/blob/HEAD/R/auditPrior.R" class="external-link"><code>R/auditPrior.R</code></a></small>
    <div class="hidden name"><code>auditPrior.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>auditPrior()</code> is used to create a prior distribution for
Bayesian audit sampling. The interface allows a complete customization of the
prior distribution as well as a formal translation of pre-existing audit
information into a prior distribution. The function returns an object of
class <code>jfaPrior</code> that can be used in the <code><a href="planning.html">planning()</a></code> and
<code><a href="evaluation.html">evaluation()</a></code> functions via their <code>prior</code> argument. Objects with
class <code>jfaPrior</code> can be further inspected via associated
<code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> and <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> methods.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">auditPrior</span><span class="op">(</span>method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>             <span class="st">"default"</span>, <span class="st">"strict"</span>, <span class="st">"param"</span>, <span class="st">"impartial"</span>, <span class="st">"hyp"</span>,</span>
<span>             <span class="st">"arm"</span>, <span class="st">"bram"</span>, <span class="st">"sample"</span>, <span class="st">"factor"</span></span>
<span>           <span class="op">)</span>,</span>
<span>           likelihood <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"poisson"</span>, <span class="st">"binomial"</span>, <span class="st">"hypergeometric"</span><span class="op">)</span>,</span>
<span>           N.units <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>           alpha <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>           beta <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>           materiality <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>           expected <span class="op">=</span> <span class="fl">0</span>,</span>
<span>           ir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>           cr <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>           ub <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>           p.hmin <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>           x <span class="op">=</span> <span class="cn">NULL</span>, n <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>           factor <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>           conf.level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>method</dt>
<dd><p>a character specifying the method by which the prior
distribution is constructed. Possible options are <code>default</code>,
<code>strict</code>, <code>impartial</code>, <code>param</code>, <code>arm</code>, <code>bram</code>,
<code>hyp</code>, <code>sample</code>, and <code>factor</code>. See the details section for
more information.</p></dd>


<dt>likelihood</dt>
<dd><p>a character specifying the likelihood for updating the
prior distribution. Possible options are <code>poisson</code> (default) for a
conjugate gamma prior distribution, <code>binomial</code> for a conjugate beta
prior distribution, or <code>hypergeometric</code> for a conjugate beta-binomial
prior distribution. See the details section for more information.</p></dd>


<dt>N.units</dt>
<dd><p>a numeric value larger than 0 specifying the total number
of units in the population. Required for the <code>hypergeometric</code>
likelihood.</p></dd>


<dt>alpha</dt>
<dd><p>a numeric value specifying the \(\alpha\) parameter of
the prior distribution. Required for method <code>param</code>.</p></dd>


<dt>beta</dt>
<dd><p>a numeric value specifying the \(\beta\) parameter of
the prior distribution. Required for method <code>param</code>.</p></dd>


<dt>materiality</dt>
<dd><p>a numeric value between 0 and 1 specifying the
performance materiality (i.e., the maximum tolerable misstatement in the
population) as a fraction. Required for methods <code>impartial</code>,
<code>arm</code>, and <code>hyp</code>.</p></dd>


<dt>expected</dt>
<dd><p>a numeric value between 0 and 1 specifying the expected
(tolerable) misstatements in the sample relative to the total sample size.
Required for methods <code>impartial</code>, <code>arm</code>, <code>bram</code>, and
<code>hyp</code>.</p></dd>


<dt>ir</dt>
<dd><p>a numeric value between 0 and 1 specifying the inherent
risk (i.e., the probability of material misstatement occurring due to
inherent factors) in the audit risk model. Required for method <code>arm</code>.</p></dd>


<dt>cr</dt>
<dd><p>a numeric value between 0 and 1 specifying the internal
control risk (i.e., the probability of material misstatement occurring due
to internal control systems) in the audit risk model. Required for method
<code>arm</code>.</p></dd>


<dt>ub</dt>
<dd><p>a numeric value between 0 and 1 specifying the
<code>conf.level</code>-% upper bound for the prior distribution as a
fraction. Required for method <code>bram</code>.</p></dd>


<dt>p.hmin</dt>
<dd><p>a numeric value between 0 and 1 specifying the prior
probability of the hypothesis of tolerable misstatement (H1: \(\theta &lt;\)
materiality). Required for method <code>hyp</code>.</p></dd>


<dt>x</dt>
<dd><p>a numeric value larger than, or equal to, 0 specifying the
sum of proportional misstatements (taints) in a prior sample. Required for
methods <code>sample</code> and <code>factor</code>.</p></dd>


<dt>n</dt>
<dd><p>a numeric value larger than 0 specifying the number of
units in a prior sample. Required for methods <code>sample</code> and
<code>factor</code>.</p></dd>


<dt>factor</dt>
<dd><p>a numeric value between 0 and 1 specifying the weight of
a prior sample specified via <code>x</code> and <code>n</code>. Required for method
<code>factor</code>.</p></dd>


<dt>conf.level</dt>
<dd><p>a numeric value between 0 and 1 specifying the confidence
level (1 - audit risk).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An object of class <code>jfaPrior</code> containing:</p>
<dl><dt>prior</dt>
<dd><p>a string describing the functional form of the prior
  distribution.</p></dd>

<dt>description</dt>
<dd><p>a list containing a description of the prior distribution,
  including the parameters of the prior distribution and the implicit sample
  on which the prior distribution is based.</p></dd>

<dt>statistics</dt>
<dd><p>a list containing statistics of the prior distribution,
  including the mean, mode, median, and upper bound of the prior
  distribution.</p></dd>

<dt>specifics</dt>
<dd><p>a list containing specifics of the prior distribution that
  vary depending on the <code>method</code>.</p></dd>

<dt>hypotheses</dt>
<dd><p>if <code>materiality</code> is specified, a list containing
  information about the hypotheses, including prior probabilities and odds
  for the hypothesis of tolerable misstatement (H1) and the hypothesis of
  intolerable misstatement (H0).</p></dd>

<dt>method</dt>
<dd><p>a character indicating the method by which the prior
  distribution is constructed.</p></dd>

<dt>likelihood</dt>
<dd><p>a character indicating the likelihood of the data.</p></dd>

<dt>materiality</dt>
<dd><p>if <code>materiality</code> is specified, a numeric value
  between 0 and 1 giving the materiality used to construct the prior
  distribution.</p></dd>

<dt>expected</dt>
<dd><p>a numeric value larger than, or equal to, 0 giving the input
  for the number of expected misstatements.</p></dd>

<dt>conf.level</dt>
<dd><p>a numeric value between 0 and 1 giving the confidence
  level.</p></dd>

<dt>N.units</dt>
<dd><p>if <code>N.units</code> is specified, the number of units in the
  population.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>To perform Bayesian audit sampling you must assign a prior
  distribution to the parameter in the model, i.e., the population
  misstatement \(\theta\). The prior distribution can incorporate
  pre-existing audit information about \(\theta\) into the analysis, which
  consequently allows for a more efficient or more accurate estimates. The
  default priors used by <code>jfa</code> are indifferent towards the possible
  values of \(\theta\), while still being proper. Note that the default
  prior distributions are a conservative choice of prior since they, in most
  cases, assume all possible misstatement to be equally likely before seeing
  a data sample. It is recommended to construct an informed prior
  distribution based on pre-existing audit information when possible.</p>
<p>This section elaborates on the available input options for the
  <code>method</code> argument.</p>
<ul><li><p><code>default</code>:   This method produces a <em>gamma(1, 1)</em>,
   <em>beta(1, 1)</em>, or <em>beta-binomial(N, 1, 1)</em> prior distribution.
   These prior distributions are indifferent towards the possible values of
   the misstatement.</p></li>
<li><p><code>strict</code>:    This method produces an improper <em>gamma(1, 0)</em>,
   <em>beta(1, 0)</em>, or <em>beta-binomial(N, 1, 0)</em> prior distribution.
   These prior distributions match sample sizes and upper limits from
   classical methods and can be used to emulate classical results.</p></li>
<li><p><code>impartial</code>: This method produces an impartial prior
   distribution. These prior distributions assume that tolerable misstatement
   (\(\theta &lt;\) materiality) and intolerable misstatement (\(\theta &gt;\)
   materiality) are equally likely.</p></li>
<li><p><code>param</code>:     This method produces a custom
   <code>gamma(alpha, beta)</code>, <code>beta(alpha, beta)</code>, or
   <code>beta-binomial(N, alpha, beta)</code> prior distribution. The alpha and
   beta parameters must be set using <code>alpha</code> and <code>beta</code>.</p></li>
<li><p><code>hyp</code>:       This method translates an assessment of the prior
   probability for tolerable misstatement (\(\theta &lt;\) materiality) to a
   prior distribution.</p></li>
<li><p><code>arm</code>:       This method translates an assessment of inherent
   risk and internal control risk to a prior distribution.</p></li>
<li><p><code>bram</code>:      This method translates an assessment of the
   expected most likely error and <em>x</em>-% upper bound to a prior
   distribution.</p></li>
<li><p><code>sample</code>:    This method translates the outcome of an earlier
   sample to a prior distribution.</p></li>
<li><p><code>factor</code>:    This method translates and weighs the outcome of an
   earlier sample to a prior distribution.</p></li>
</ul><p>This section elaborates on the available input options for the
<code>likelihood</code> argument and the corresponding conjugate prior
distributions used by <code>jfa</code>.</p>
<ul><li><p><code>poisson</code>:        The Poisson distribution is an approximation of
   the binomial distribution. The Poisson distribution is defined as:
   $$f(\theta, n) = \frac{\lambda^\theta e^{-\lambda}}{\theta!}$$. The
   conjugate <em>gamma(\(\alpha, \beta\))</em> prior has probability density
   function:
   $$p(\theta; \alpha, \beta) = \frac{\beta^\alpha \theta^{\alpha - 1}
   e^{-\beta \theta}}{\Gamma(\alpha)}$$.</p></li>
<li><p><code>binomial</code>:       The binomial distribution is an approximation
 of the hypergeometric distribution. The binomial distribution is defined as:
 $$f(\theta, n, x) = {n \choose x} \theta^x (1 - \theta)^{n - x}$$. The
 conjugate <em>beta(\(\alpha, \beta\))</em> prior has probability density
 function: $$p(\theta; \alpha, \beta) = \frac{1}{B(\alpha, \beta)}
 \theta^{\alpha - 1} (1 - \theta)^{\beta - 1}$$.</p></li>
<li><p><code>hypergeometric</code>: The hypergeometric distribution is defined as:
 $$f(x, n, K, N) = \frac{{K \choose x} {N - K \choose n - x}}
 {{N \choose n}}$$. The conjugate <em>beta-binomial(\(\alpha, \beta\))</em>
 prior (Dyer and Pierce, 1993) has probability mass function:
 $$f(x, n, \alpha, \beta) = {n \choose x}
 \frac{B(x + \alpha, n - x + \beta)}{B(\alpha, \beta)}$$.</p></li>
</ul></div>
    <div id="references">
    <h2>References</h2>
    <p>Derks, K., de Swart, J., van Batenburg, P., Wagenmakers, E.-J.,
  &amp; Wetzels, R. (2021). Priors in a Bayesian audit: How integration of
  existing information into the prior distribution can improve audit
  transparency and efficiency. <em>International Journal of Auditing</em>,
  25(3), 621-636. <a href="https://doi.org/10.1111/ijau.12240" class="external-link">doi:10.1111/ijau.12240</a></p>
<p>Derks, K., de Swart, J., Wagenmakers, E.-J., Wille, J., &amp;
  Wetzels, R. (2021). JASP for audit: Bayesian tools for the auditing
  practice. <em>Journal of Open Source Software</em>, <em>6</em>(68), 2733.
  <a href="https://doi.org/10.21105/joss.02733" class="external-link">doi:10.21105/joss.02733</a></p>
<p>Derks, K., de Swart, J., Wagenmakers, E.-J., &amp; Wetzels, R.
  (2022). An impartial Bayesian hypothesis test for audit sampling.
  <em>PsyArXiv</em>. <a href="https://doi.org/10.31234/osf.io/8nf3e" class="external-link">doi:10.31234/osf.io/8nf3e</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="planning.html">planning</a></code>
         <code><a href="selection.html">selection</a></code>
         <code><a href="evaluation.html">evaluation</a></code>
         <code><a href="report.html">report</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Koen Derks, <a href="mailto:k.derks@nyenrode.nl">k.derks@nyenrode.nl</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Default beta prior</span></span></span>
<span class="r-in"><span><span class="fu">auditPrior</span><span class="op">(</span>likelihood <span class="op">=</span> <span class="st">"binomial"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Prior Distribution for Audit Sampling</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> functional form: beta(α = 1, β = 1) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> parameters obtained via method 'default'</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Impartial prior</span></span></span>
<span class="r-in"><span><span class="fu">auditPrior</span><span class="op">(</span>method <span class="op">=</span> <span class="st">"impartial"</span>, materiality <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Prior Distribution for Audit Sampling</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> functional form: gamma(α = 1, β = 13.863) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> parameters obtained via method 'impartial'</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Translate inherent risk (ir) and control risk (cr) to a prior</span></span></span>
<span class="r-in"><span><span class="fu">auditPrior</span><span class="op">(</span>method <span class="op">=</span> <span class="st">"arm"</span>, expected <span class="op">=</span> <span class="fl">0.025</span>, materiality <span class="op">=</span> <span class="fl">0.05</span>, ir <span class="op">=</span> <span class="fl">1</span>, cr <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Prior Distribution for Audit Sampling</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> functional form: gamma(α = 2.325, β = 53) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> parameters obtained via method 'arm'</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://koenderks.com" class="external-link">Koen Derks</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

