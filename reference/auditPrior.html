<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a Prior Distribution with Existing Audit Information — auditPrior • jfa</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create a Prior Distribution with Existing Audit Information — auditPrior" />
<meta property="og:description" content="This function creates a prior distribution for Bayesian audit sampling according to several methods discussed in Derks et al. (2020). The returned object is of class jfaPrior and can be used with associated print() and plot() methods. jfaPrior objects can be used as input for the prior argument in other functions." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jfa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/jfa.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/v1auditWorkflow.html">The audit sampling workflow</a>
    </li>
    <li>
      <a href="../articles/v2priorDistributions.html">jfa: Constructing a prior distribution</a>
    </li>
    <li>
      <a href="../articles/v3estimation.html">Estimating the misstatement</a>
    </li>
    <li>
      <a href="../articles/v4testing.html">jfa: Testing the misstatement</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/koenderks/jfa/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a Prior Distribution with Existing Audit Information</h1>
    <small class="dont-index">Source: <a href='https://github.com/koenderks/jfa/blob/master/R/auditPrior.R'><code>R/auditPrior.R</code></a></small>
    <div class="hidden name"><code>auditPrior.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function creates a prior distribution for Bayesian audit sampling according to several methods discussed in Derks et al. (2020). The returned object is of class <code>jfaPrior</code> and can be used with associated <code><a href='https://rdrr.io/r/base/print.html'>print()</a></code> and <code><a href='https://rdrr.io/r/graphics/plot.default.html'>plot()</a></code> methods. <code>jfaPrior</code> objects can be used as input for the <code>prior</code> argument in other functions.</p>
    </div>

    <pre class="usage"><span class='fu'>auditPrior</span><span class='op'>(</span>confidence <span class='op'>=</span> <span class='fl'>0.95</span>, likelihood <span class='op'>=</span> <span class='st'>"binomial"</span>, method <span class='op'>=</span> <span class='st'>"none"</span>, 
           expectedError <span class='op'>=</span> <span class='fl'>0</span>, N <span class='op'>=</span> <span class='cn'>NULL</span>, materiality <span class='op'>=</span> <span class='cn'>NULL</span>, ir <span class='op'>=</span> <span class='fl'>1</span>, cr <span class='op'>=</span> <span class='fl'>1</span>,
           pHmin <span class='op'>=</span> <span class='cn'>NULL</span>, pHplus <span class='op'>=</span> <span class='cn'>NULL</span>, factor <span class='op'>=</span> <span class='fl'>1</span>, sampleN <span class='op'>=</span> <span class='fl'>0</span>, sampleK <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>confidence</th>
      <td><p>the confidence level desired from the confidence bound (on a scale from 0 to 1). Defaults to 0.95, or 95% confidence.</p></td>
    </tr>
    <tr>
      <th>likelihood</th>
      <td><p>can be one of <code>binomial</code>, <code>poisson</code>, or <code>hypergeometric</code>. See the Details section for more information.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>the method by which the prior distribution is constructed. Defaults to the <code>none</code> method, which incorporates no prior information. Can be one of <code>none</code>, <code>median</code>, <code>hypotheses</code>, <code>arm</code>, <code>sample</code> or <code>factor</code>. See the Details section for more information.</p></td>
    </tr>
    <tr>
      <th>expectedError</th>
      <td><p>a fraction representing the percentage of expected mistakes in the sample relative to the total size, or a number (&gt;= 1) that represents the number of expected mistakes.</p></td>
    </tr>
    <tr>
      <th>N</th>
      <td><p>the population size (only required when <code>likelihood = 'hypergeometric'</code>).</p></td>
    </tr>
    <tr>
      <th>materiality</th>
      <td><p>a value between 0 and 1 representing the materiality of the audit as a fraction of the total size or value. Can be <code>NULL</code> for some methods.</p></td>
    </tr>
    <tr>
      <th>ir</th>
      <td><p>the inherent risk probability from the audit risk model. Defaults to 1 for 100% risk.</p></td>
    </tr>
    <tr>
      <th>cr</th>
      <td><p>the inherent risk probability from the audit risk model. Defaults to 1 for 100% risk.</p></td>
    </tr>
    <tr>
      <th>pHmin</th>
      <td><p>When using <code>method = 'hypotheses'</code>, the prior probability of the hypothesis \(\theta &lt;\) materiality.</p></td>
    </tr>
    <tr>
      <th>pHplus</th>
      <td><p>When using <code>method = 'hypotheses'</code>, the prior probability of the hypothesis \(\theta &gt;\) materiality.</p></td>
    </tr>
    <tr>
      <th>factor</th>
      <td><p>When using <code>method = 'factor'</code>, the value of the weighting factor for the results of the previous sample.</p></td>
    </tr>
    <tr>
      <th>sampleN</th>
      <td><p>When using method <code>sample</code> or <code>factor</code>, the number of transactions that were inspected in the previous sample.</p></td>
    </tr>
    <tr>
      <th>sampleK</th>
      <td><p>When using method <code>sample</code> or <code>factor</code>, the total taint in the previous sample.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>jfaPrior</code> containing:</p>
<dt>confidence</dt><dd><p>the method by which the prior distribution is constructed.</p></dd>
<dt>likelihood</dt><dd><p>the likelihood by which the prior distribution is updated.</p></dd>
<dt>method</dt><dd><p>the method by which the prior distribution is constructed.</p></dd>
<dt>expectedError</dt><dd><p>the expected error input.</p></dd>
<dt>N</dt><dd><p>if specified as input, the population size.</p></dd>
<dt>materiality</dt><dd><p>if specified, the materiality that was used to construct the prior distribution.</p></dd>
<dt>description</dt><dd><p>a description of the prior distribution, including parameters and the implicit sample.</p></dd>
<dt>statistics</dt><dd><p>a list of statistics of the prior distribution, including the mean, mode, median, and upper bound.</p></dd>
<dt>specifics</dt><dd><p>a list of optional specifications of the prior distribution, these depend on the method used.</p></dd>
<dt>hypotheses</dt><dd><p>if a materiality is specified, a list of statistics about the hypotheses including prior probabilities and odds.</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This section elaborates on the available likelihoods and corresponding prior distributions for the <code>likelihood</code> argument.</p>
<ul>
<li><p><code>poisson</code>:          The Poisson likelihood is used as a likelihood for monetary unit sampling (MUS). Its likelihood function is defined as: $$p(x) = \frac{\lambda^x e^{-\lambda}}{x!}$$ The conjugate <em>gamma(\(\alpha, \beta\))</em> prior has probability density function: $$f(x; \alpha, \beta) = \frac{\beta^\alpha x^{\alpha - 1} e^{-\beta x}}{\Gamma(\alpha)}$$</p></li>
<li><p><code>binomial</code>:         The binomial likelihood is used as a likelihood for record sampling <em>with</em> replacement. Its likelihood function is defined as: $$p(x) = {n \choose k} p^k (1 - p)^{n - k}$$ The conjugate <em>beta(\(\alpha, \beta\))</em> prior has probability density function: $$f(x; \alpha, \beta) = \frac{1}{B(\alpha, \beta)} x^{\alpha - 1} (1 - x)^{\beta - 1}$$</p></li>
<li><p><code>hypergeometric</code>:   The hypergeometric likelihood is used as a likelihood for record sampling <em>without</em> replacement. Its likelihood function is defined as: $$p(x = k) = \frac{{K \choose k} {N - K \choose n - k}}{{N \choose n}}$$ The conjugate <em>beta-binomial(\(\alpha, \beta\))</em> prior (Dyer and Pierce, 1993) has probability density function: $$f(k | n, \alpha, \beta) = {n \choose k} \frac{B(k + \alpha, n - k + \beta)}{B(\alpha, \beta)}$$</p></li>
</ul>

<p>This section elaborates on the available methods for constructing a prior distribution.</p>
<ul>
<li><p><code>none</code>:              This method constructs a prior distribution according to the principle of minimum information.</p></li>
<li><p><code>median</code>:            This method constructs a prior distribution so that the prior probabilities of tolerable and intolerable misstatement are equal.</p></li>
<li><p><code>hypotheses</code>:        This method constructs a prior distribution with specified prior probabilities for the hypotheses of tolerable and intolerable misstatement. Requires specification of the <code>pHmin</code> and <code>pHplus</code> arguments.</p></li>
<li><p><code>arm</code>:               This method constructs a prior distribution according to the assessed risks in the audit risk model. Requires specification of the <code>ir</code> and <code>cr</code> arguments.</p></li>
<li><p><code>sample</code>:            This method constructs a prior distribution on the basis of an earlier sample. Requires specification of the <code>sampleN</code> and <code>sampleK</code> arguments.</p></li>
<li><p><code>factor</code>:            This method constructs a prior distribution on the basis of last year's results and a weighting factor. Requires specification of the <code>factor</code>, <code>sampleN</code> and <code>sampleK</code> arguments.</p></li>
</ul>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Derks, K., de Swart, J., Wagenmakers, E.-J., Wille, J., &amp; Wetzels, R. (2019). JASP for audit: Bayesian tools for the auditing practice.</p>
<p>Derks, K., de Swart, J., van Batenburg, P. Wagenmakers, E.-J., &amp; Wetzels, R. (2020). Priors in a Bayesian Audit: How Integrating Information into the Prior Distribution can Improve Audit Transparency and Efficiency.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='planning.html'>planning</a></code> <code><a href='selection.html'>selection</a></code> <code><a href='evaluation.html'>evaluation</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Koen Derks, <a href='mailto:k.derks@nyenrode.nl'>k.derks@nyenrode.nl</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/koenderks/jfa'>jfa</a></span><span class='op'>)</span>

<span class='co'># Specify the materiality, confidence, and expected errors:</span>
<span class='va'>materiality</span>   <span class='op'>&lt;-</span> <span class='fl'>0.05</span>   <span class='co'># 5%</span>
<span class='va'>confidence</span>    <span class='op'>&lt;-</span> <span class='fl'>0.95</span>   <span class='co'># 95%</span>
<span class='va'>expectedError</span> <span class='op'>&lt;-</span> <span class='fl'>0.025</span>  <span class='co'># 2.5%</span>

<span class='co'># Specify the inherent risk (ir) and control risk (cr):</span>
<span class='va'>ir</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>     <span class='co'># 100%</span>
<span class='va'>cr</span> <span class='op'>&lt;-</span> <span class='fl'>0.6</span>   <span class='co'># 60%</span>

<span class='co'># Create a beta prior distribution according to the Audit Risk Model (arm) </span>
<span class='co'># and a binomial likelihood:</span>
<span class='va'>prior</span> <span class='op'>&lt;-</span> <span class='fu'>auditPrior</span><span class='op'>(</span>confidence <span class='op'>=</span> <span class='va'>confidence</span>, likelihood <span class='op'>=</span> <span class='st'>"binomial"</span>, 
                    method <span class='op'>=</span> <span class='st'>"arm"</span>, expectedError <span class='op'>=</span> <span class='va'>expectedError</span>, materiality <span class='op'>=</span> <span class='va'>materiality</span>, 
                    ir <span class='op'>=</span> <span class='va'>ir</span>, cr <span class='op'>=</span> <span class='va'>cr</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>prior</span><span class='op'>)</span>
</div><div class='output co'>#&gt; # ------------------------------------------------------------
#&gt; #         jfa Prior Distribution Summary (Bayesian)
#&gt; # ------------------------------------------------------------
#&gt; # Input:
#&gt; #
#&gt; # Confidence:              95%    
#&gt; # Expected sample errors:  2.5%       
#&gt; # Likelihood:              binomial 
#&gt; # Specifics:               Inherent risk = 1; Internal control risk = 0.6; Detection risk = 0.08 
#&gt; # ------------------------------------------------------------
#&gt; # Output: 
#&gt; #
#&gt; # Prior distribution:      beta(α = 2.275, β = 50.725) 
#&gt; # Implicit sample size:    51 
#&gt; # Implicit errors:         1.27 
#&gt; # ------------------------------------------------------------
#&gt; # Statistics: 
#&gt; #
#&gt; # Upper bound:             0.1 
#&gt; # Precision:               0.07 
#&gt; # Mode:                    0.02 
#&gt; # Mean:                    0.04 
#&gt; # Median:                  0.04 
#&gt; # ------------------------------------------------------------</div><div class='input'>
<span class='co'># ------------------------------------------------------------</span>
<span class='co'>#         jfa Prior Distribution Summary (Bayesian)</span>
<span class='co'># ------------------------------------------------------------</span>
<span class='co'># Input:</span>
<span class='co'>#</span>
<span class='co'># Confidence:              0.95    </span>
<span class='co'># Expected sample errors:  0.02       </span>
<span class='co'># Likelihood:              binomial </span>
<span class='co'># Specifics:               Inherent risk = 1; Internal control risk = 0.6; Detection risk = 0.08 </span>
<span class='co'># ------------------------------------------------------------</span>
<span class='co'># Output: </span>
<span class='co'>#</span>
<span class='co'># Prior distribution:      beta(2.275, 50.725) </span>
<span class='co'># Implicit sample size:    51 </span>
<span class='co'># Implicit errors:         1.27 </span>
<span class='co'># ------------------------------------------------------------</span>
<span class='co'># Statistics: </span>
<span class='co'>#</span>
<span class='co'># Upper bound:             0.1 </span>
<span class='co'># Precision:               7.1% </span>
<span class='co'># Mode:                    0.02 </span>
<span class='co'># Mean:                    0.04 </span>
<span class='co'># Median:                  0.04 </span>
<span class='co'># ------------------------------------------------------------</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Koen Derks.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


