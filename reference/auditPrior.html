<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a prior distribution for audit sampling — auditPrior • jfa</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create a prior distribution for audit sampling — auditPrior" />
<meta property="og:description" content="This function creates a prior distribution with audit information to be used in the planning() and evaluation() functions via their prior argument. The function returns an object of class jfaPrior which can be used with associated print() and plot() methods.
For more details on how to use this function, see the package vignette:
vignette('jfa', package = 'jfa')" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jfa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/jfa.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/v1_sampling_workflow.html">The audit sampling workflow</a>
    </li>
    <li>
      <a href="../articles/v2_bayesian_sampling_workflow.html">The Bayesian audit sampling workflow</a>
    </li>
    <li>
      <a href="../articles/v3_prior_distributions.html">Prior distributions</a>
    </li>
    <li>
      <a href="../articles/v4_testing_misstatement.html">Testing misstatement</a>
    </li>
    <li>
      <a href="../articles/v5_estimating_misstatement.html">Estimating misstatement</a>
    </li>
    <li>
      <a href="../articles/v6_bayes_factors_summary_statistics.html">Bayes factors using summary statistics</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/koenderks/jfa/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a prior distribution for audit sampling</h1>
    <small class="dont-index">Source: <a href='https://github.com/koenderks/jfa/blob/master/R/auditPrior.R'><code>R/auditPrior.R</code></a></small>
    <div class="hidden name"><code>auditPrior.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function creates a prior distribution with audit information to be used in the <code><a href='planning.html'>planning()</a></code> and <code><a href='evaluation.html'>evaluation()</a></code> functions via their <code>prior</code> argument. The function returns an object of class <code>jfaPrior</code> which can be used with associated <code><a href='https://rdrr.io/r/base/print.html'>print()</a></code> and <code><a href='https://rdrr.io/r/graphics/plot.default.html'>plot()</a></code> methods.</p>
<p>For more details on how to use this function, see the package vignette:
<code><a href='../articles/jfa.html'>vignette('jfa', package = 'jfa')</a></code></p>
    </div>

    <pre class="usage"><span class='fu'>auditPrior</span><span class='op'>(</span><span class='va'>confidence</span>, materiality <span class='op'>=</span> <span class='cn'>NULL</span>, expectedError <span class='op'>=</span> <span class='fl'>0</span>, 
           method <span class='op'>=</span> <span class='st'>'none'</span>, likelihood <span class='op'>=</span> <span class='st'>'binomial'</span>, N <span class='op'>=</span> <span class='cn'>NULL</span>, 
           ir <span class='op'>=</span> <span class='fl'>1</span>, cr <span class='op'>=</span> <span class='fl'>1</span>, ub <span class='op'>=</span> <span class='cn'>NULL</span>, pHmin <span class='op'>=</span> <span class='cn'>NULL</span>, pHplus <span class='op'>=</span> <span class='cn'>NULL</span>, 
           sampleN <span class='op'>=</span> <span class='fl'>0</span>, sampleK <span class='op'>=</span> <span class='fl'>0</span>, factor <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>confidence</th>
      <td><p>a numeric value between 0 and 1 specifying the confidence level to be used in the planning.</p></td>
    </tr>
    <tr>
      <th>materiality</th>
      <td><p>a numeric value between 0 and 1 specifying the performance materiality (i.e., the maximum upper limit) as a fraction of the total population size. Can be <code>NULL</code> for some methods.</p></td>
    </tr>
    <tr>
      <th>expectedError</th>
      <td><p>a numeric value between 0 and 1 specifying the expected errors in the sample relative to the total sample size, or a numeric value (&gt;= 1) that represents the sum of expected errors in the sample. It is advised to set this value conservatively to minimize the probability of the observed errors exceeding the expected errors, which would imply that insufficient work has been done in the end.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>a character specifying the method by which the prior distribution is constructed. Defaults to <code>none</code> which incorporates no existing information. Other options are <code>arm</code>, <code>bram</code>, <code>median</code>, <code>hypotheses</code>, <code>sample</code>, and <code>factor</code>. See the details section for more information about the available methods.</p></td>
    </tr>
    <tr>
      <th>likelihood</th>
      <td><p>a character specifying the likelihood assumed when updating the prior distribution. This can be either <code>binomial</code> for the binomial likelihood and beta prior distribution, <code>poisson</code> for the Poisson likelihood and gamma prior distribution, or <code>hypergeometric</code> for the hypergeometric likelihood and beta-binomial prior distribution. See the details section for more information about the available likelihoods.</p></td>
    </tr>
    <tr>
      <th>N</th>
      <td><p>an numeric value larger than 0 specifying the total population size. Optional unless <code>likelihood = 'hypergeometric'</code>.</p></td>
    </tr>
    <tr>
      <th>ir</th>
      <td><p>if <code>method = 'arm'</code>, a numeric value between 0 and 1 specifying the inherent risk in the audit risk model. Defaults to 1 for 100% risk.</p></td>
    </tr>
    <tr>
      <th>cr</th>
      <td><p>if <code>method = 'arm'</code>, a numeric value between 0 and 1 specifying the internal control risk in the audit risk model. Defaults to 1 for 100% risk.</p></td>
    </tr>
    <tr>
      <th>ub</th>
      <td><p>if <code>method = 'bram'</code>, a numeric value between 0 and 1 specifying the upper bound for the prior distribution as a fraction of the population size.</p></td>
    </tr>
    <tr>
      <th>pHmin</th>
      <td><p>if <code>method = 'hypotheses'</code>, a numeric value between 0 and 1 specifying the prior probability of the hypothesis \(\theta &lt;\) materiality.</p></td>
    </tr>
    <tr>
      <th>pHplus</th>
      <td><p>if <code>method = 'hypotheses'</code>, a numeric value between 0 and 1 specifying the prior probability of the hypothesis \(\theta &gt;\) materiality.</p></td>
    </tr>
    <tr>
      <th>sampleN</th>
      <td><p>if <code>method = 'sample'</code> or <code>method = 'factor'</code>, an integer larger than, or equal to, 0 specifying the sample size of the sample equivalent to the prior information.</p></td>
    </tr>
    <tr>
      <th>sampleK</th>
      <td><p>if <code>sample</code> or <code>factor</code>, a numeric value larger than, or equal to, 0 specifying the sum of errors in the sample equivalent to the prior information.</p></td>
    </tr>
    <tr>
      <th>factor</th>
      <td><p>if <code>method = 'factor'</code>, a numeric value between 0 and 1 specifying the weighting factor for the results of the sample equivalent to the prior information.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>jfaPrior</code> containing:</p>
<dt>confidence</dt><dd><p>a numeric value between 0 and 1 indicating the confidence level used.</p></dd>
<dt>materiality</dt><dd><p>if <code>materiality</code> is specified, a numeric value between 0 and 1 indicating the materiality used to construct the prior distribution.</p></dd>
<dt>expectedError</dt><dd><p>a numeric value larger than, or equal to, 0 indicating the input for the number of expected errors.</p></dd>
<dt>method</dt><dd><p>a character indicating the method by which the prior distribution is constructed.</p></dd>
<dt>likelihood</dt><dd><p>a character indicating the assumed likelihood.</p></dd>
<dt>N</dt><dd><p>if <code>N</code> is specified, an integer larger than 0 indicating the population size.</p></dd>
<dt>description</dt><dd><p>a list containing a description of the prior distribution, including the parameters of the prior distribution and the implicit sample on which the prior distribution is based.</p></dd>
<dt>statistics</dt><dd><p>a list containing statistics of the prior distribution, including the mean, mode, median, and upper bound of the prior distribution.</p></dd>
<dt>specifics</dt><dd><p>a list containing specifics of the prior distribution that vary depending on the <code>method</code>.</p></dd>
<dt>hypotheses</dt><dd><p>if <code>materiality</code> is specified, a list containing information about the hypotheses, including prior probabilities and odds for the hypothesis of tolerable misstatement (H-) and the hypothesis of intolerable misstatement (H+).</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This section elaborates on the available options for the <code>method</code> argument.</p>
<ul>
<li><p><code>none</code>:              This method constructs a prior distribution that incorporates negligible information about the possible values of the misstatement.</p></li>
<li><p><code>arm</code>:               This method constructs a prior distribution by translating the risks of material misstatement (inherent risk and internal control risk) from the audit risk model to an implicit sample. The method requires specification of the <code>ir</code> (inherent risk) and <code>cr</code> (internal control risk) arguments.</p></li>
<li><p><code>bram</code>:              This method constructs a prior distribution using the Bayesian audit risk assessment model (BRAM) in which the expected most likely error and expected upper bound of the misstatement must be specified. The method requires specification of the <code>ub</code> argument.</p></li>
<li><p><code>median</code>:            This method constructs a prior distribution so that the prior probability of tolerable misstatement (\(\theta &lt;\) materiality) is equal to the prior probability of intolerable misstatement (\(\theta &gt;\) materiality).</p></li>
<li><p><code>hypotheses</code>:        This method constructs a prior distribution with custom prior probabilities for the hypotheses of tolerable misstatement (\(\theta &lt;\) materiality) and intolerable misstatement (\(\theta &gt;\) materiality). This method requires specification of the <code>pHmin</code> and <code>pHplus</code> arguments.</p></li>
<li><p><code>sample</code>:            This method constructs a prior distribution on the basis of an earlier sample. This method requires specification of the <code>sampleN</code> and <code>sampleK</code> arguments.</p></li>
<li><p><code>factor</code>:            This method constructs a prior distribution on the basis of an earlier sample in combination with a weighting factor. This method requires specification of the <code>sampleN</code>, <code>sampleK</code>, and <code>factor</code> arguments.</p></li>
</ul>

<p>This section elaborates on the available likelihoods and corresponding prior distributions for the <code>likelihood</code> argument.</p>
<ul>
<li><p><code>binomial</code>:         The binomial likelihood is often used as a likelihood for attributes sampling <em>with</em> replacement. The likelihood function is defined as: $$p(x) = {n \choose k} p^k (1 - p)^{n - k}$$ The conjugate <em>beta(\(\alpha, \beta\))</em> prior has probability density function: $$f(x; \alpha, \beta) = \frac{1}{B(\alpha, \beta)} x^{\alpha - 1} (1 - x)^{\beta - 1}$$</p></li>
<li><p><code>poisson</code>:          The Poisson likelihood is often used as a likelihood for monetary unit sampling (MUS). The likelihood function is defined as: $$p(x) = \frac{\lambda^x e^{-\lambda}}{x!}$$ The conjugate <em>gamma(\(\alpha, \beta\))</em> prior has probability density function: $$f(x; \alpha, \beta) = \frac{\beta^\alpha x^{\alpha - 1} e^{-\beta x}}{\Gamma(\alpha)}$$</p></li>
<li><p><code>hypergeometric</code>:   The hypergeometric likelihood is used as a likelihood for sampling <em>without</em> replacement. The likelihood function is defined as: $$p(x = k) = \frac{{K \choose k} {N - K \choose n - k}}{{N \choose n}}$$ The conjugate <em>beta-binomial(\(\alpha, \beta\))</em> prior (Dyer and Pierce, 1993) has probability density function: $$f(k | n, \alpha, \beta) = {n \choose k} \frac{B(k + \alpha, n - k + \beta)}{B(\alpha, \beta)}$$</p></li>
</ul>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Derks, K., de Swart, J., Wagenmakers, E.-J., Wille, J., &amp; Wetzels, R. (2019). JASP for audit: Bayesian tools for the auditing practice.</p>
<p>Derks, K., de Swart, J., van Batenburg, P. Wagenmakers, E.-J., &amp; Wetzels, R. (2021). Priors in a Bayesian audit: How integrating information into the prior distribution can improve audit transparency and efficiency. In Press.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='planning.html'>planning</a></code> <code><a href='selection.html'>selection</a></code> <code><a href='evaluation.html'>evaluation</a></code> <code><a href='report.html'>report</a></code> <code><a href='auditBF.html'>auditBF</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Koen Derks, <a href='mailto:k.derks@nyenrode.nl'>k.derks@nyenrode.nl</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'> 
<span class='co'># Translate inherent risk (ir) and control risk (cr) to a prior distribution</span>
<span class='fu'>auditPrior</span><span class='op'>(</span>confidence <span class='op'>=</span> <span class='fl'>0.95</span>, materiality <span class='op'>=</span> <span class='fl'>0.05</span>, expectedError <span class='op'>=</span> <span class='fl'>0.025</span>,
           method <span class='op'>=</span> <span class='st'>'arm'</span>, likelihood <span class='op'>=</span> <span class='st'>'binomial'</span>, ir <span class='op'>=</span> <span class='fl'>1</span>, cr <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span>
</div><div class='output co'>#&gt; # ------------------------------------------------------------
#&gt; #         jfa Prior Distribution Summary (Bayesian)
#&gt; # ------------------------------------------------------------
#&gt; # Input:
#&gt; #
#&gt; # Confidence:                    95% 
#&gt; # Expected sample errors:        2.5% 
#&gt; # Likelihood:                    binomial 
#&gt; # Specifics:                     Inherent risk = 1; Internal control risk = 0.6; Detection risk = 0.083 
#&gt; # ------------------------------------------------------------
#&gt; # Output: 
#&gt; #
#&gt; # Prior distribution:            beta(α = 2.275, β = 50.725) 
#&gt; # Implicit sample size:          51 
#&gt; # Implicit errors:               1.275 
#&gt; # ------------------------------------------------------------
#&gt; # Statistics: 
#&gt; #
#&gt; # Upper bound:                   0.096 
#&gt; # Precision:                     0.071 
#&gt; # Mode:                          0.025 
#&gt; # Mean:                          0.043 
#&gt; # Median:                        0.037 
#&gt; # ------------------------------------------------------------</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Koen Derks.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


