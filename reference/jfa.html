<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>jfa --- Statistical Methods for Auditing — jfa-package • jfa</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="jfa --- Statistical Methods for Auditing — jfa-package"><meta property="og:description" content="
jfa is an R package that provides statistical methods for auditing. The package 
  includes functions for planning, performing, evaluating, and reporting an audit sample 
  compliant with international auditing standards, as well as functions for auditing data, such as 
  testing the distribution of leading digits in the data against Benford's law. In addition to offering 
  classical frequentist methods, jfa also provides a straightforward implementation of their 
  Bayesian counterparts.  
The functionality of the jfa package and its intended workflow are implemented with 
  a graphical user interface in the Audit module of JASP, 
  a free and open-source software program for statistical analyses.
For documentation on jfa itself, including the manual and user guide
  for the package, worked examples, and other tutorial information visit the 
  package website."><meta property="og:image" content="https://koenderks.github.io/jfa/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jfa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/jfa.html">Get started</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/koenderks/jfa" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/koenderks/jfa/discussions" class="external-link">
    <span class="fa fa-users"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>jfa --- Statistical Methods for Auditing</h1>
    
    <div class="hidden name"><code>jfa.Rd</code></div>
    </div>

    <div class="ref-description">
    <p></p>
<p><code>jfa</code> is an R package that provides statistical methods for auditing. The package 
  includes functions for planning, performing, evaluating, and reporting an audit sample 
  compliant with international auditing standards, as well as functions for auditing data, such as 
  testing the distribution of leading digits in the data against Benford's law. In addition to offering 
  classical frequentist methods, <code>jfa</code> also provides a straightforward implementation of their 
  Bayesian counterparts.</p>  
<p>The functionality of the <code>jfa</code> package and its intended workflow are implemented with 
  a graphical user interface in the Audit module of <a href="https://jasp-stats.org" class="external-link">JASP</a>, 
  a free and open-source software program for statistical analyses.</p>
<p>For documentation on <code>jfa</code> itself, including the manual and user guide
  for the package, worked examples, and other tutorial information visit the 
  <a href="https://koenderks.github.io/jfa/">package website</a>.</p>
    </div>


    <div id="author">
    <h2>Author</h2>
    <p></p><table class="table table"><tr><td>Koen Derks (maintainer, author)</td><td>&lt;k.derks@nyenrode.nl&gt;</td></tr></table><p>Please use the citation provided by <span style="R">R</span> when citing this package. 
  A BibTex entry is available from <code>citation('jfa')</code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Useful links:</p><ul><li><p>The <a href="https://koenderks.github.io/jfa/articles/">vignettes</a> for worked examples.</p></li>
<li><p>The <a href="https://github.com/koenderks/jfa/issues" class="external-link">issue page</a> to submit a bug report or feature request.</p></li>
</ul></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load the jfa package</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://koenderks.github.io/jfa/">jfa</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#################################</span></span></span>
<span class="r-in"><span><span class="co">### Example 1: Audit sampling ###</span></span></span>
<span class="r-in"><span><span class="co">#################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load the BuildIt population</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">'BuildIt'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Stage 1: Planning</span></span></span>
<span class="r-in"><span><span class="va">stage1</span> <span class="op">&lt;-</span> <span class="fu"><a href="planning.html">planning</a></span><span class="op">(</span>materiality <span class="op">=</span> <span class="fl">0.03</span>, expected <span class="op">=</span> <span class="fl">0.01</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">stage1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Classical Audit Sample Planning Summary</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Options:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Confidence level:              0.95 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Materiality:                   0.03 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Hypotheses:                    H₀: Θ &gt;= 0.03 vs. H₁: Θ &lt; 0.03 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Expected:                      0.01 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Likelihood:                    poisson </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Minimum sample size:           220 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Tolerable errors:              2.2 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Expected most likely error:    0.01 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Expected upper bound:          0.02997 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Expected precision:            0.01997 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Expected p-value:              0.049761 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Stage 2: Selection</span></span></span>
<span class="r-in"><span><span class="va">stage2</span> <span class="op">&lt;-</span> <span class="fu"><a href="selection.html">selection</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="va">stage1</span>,</span></span>
<span class="r-in"><span>                    units <span class="op">=</span> <span class="st">'values'</span>, values <span class="op">=</span> <span class="st">'bookValue'</span>,</span></span>
<span class="r-in"><span>                    method <span class="op">=</span> <span class="st">'interval'</span>, start <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">stage2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Audit Sample Selection Summary</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Options:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Requested sample size:         220 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Sampling units:                monetary units </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Method:                        fixed interval sampling </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Starting point:                1 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Population size:               3500 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Population value:              1403221 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Selection interval:            6378.3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Selected sampling units:       220 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Proportion of value:           0.080554 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Selected items:                220 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Proportion of size:            0.062857 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Stage 3: Execution</span></span></span>
<span class="r-in"><span><span class="va">sample</span> <span class="op">&lt;-</span> <span class="va">stage2</span><span class="op">[[</span><span class="st">'sample'</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Stage 4: Evaluation</span></span></span>
<span class="r-in"><span><span class="va">stage4</span> <span class="op">&lt;-</span> <span class="fu"><a href="evaluation.html">evaluation</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">sample</span>, method <span class="op">=</span> <span class="st">'stringer'</span>,</span></span>
<span class="r-in"><span>                     values <span class="op">=</span> <span class="st">'bookValue'</span>, values.audit <span class="op">=</span> <span class="st">'auditValue'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">stage4</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Classical Audit Sample Evaluation Summary</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Options:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Confidence level:               0.95 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Method:                         stringer </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Sample size:                    220 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Number of errors:               5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Sum of taints:                  2.9999929 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Results:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Most likely error:              0.013636 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   95 percent confidence interval: [0, 0.033724] </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Precision:                      0.020087 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#################################</span></span></span>
<span class="r-in"><span><span class="co">### Example 2: Data auditing ####</span></span></span>
<span class="r-in"><span><span class="co">#################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load the sinoForest data set</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">'sinoForest'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Test first digits in the data against Benford's law</span></span></span>
<span class="r-in"><span><span class="fu"><a href="digit_test.html">digit_test</a></span><span class="op">(</span><span class="va">sinoForest</span><span class="op">[[</span><span class="st">"value"</span><span class="op">]</span><span class="op">]</span>, check <span class="op">=</span> <span class="st">"first"</span>, reference <span class="op">=</span> <span class="st">"benford"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Classical Digit Distribution Test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> data:  sinoForest[["value"]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n = 772, MAD = 0.0065981, X-squared = 7.6517, df = 8, p-value = 0.4682</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> alternative hypothesis: leading digit(s) are not distributed according to the benford distribution.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">######################################</span></span></span>
<span class="r-in"><span><span class="co">### Example 3: Algorithm auditing ####</span></span></span>
<span class="r-in"><span><span class="co">######################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load the compas data set</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">'compas'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Test algorithmic fairness against Caucasian ethnicity</span></span></span>
<span class="r-in"><span><span class="fu"><a href="model_fairness.html">model_fairness</a></span><span class="op">(</span><span class="va">compas</span>, <span class="st">"Ethnicity"</span>, <span class="st">"TwoYrRecidivism"</span>, <span class="st">"Predicted"</span>,</span></span>
<span class="r-in"><span>               privileged <span class="op">=</span> <span class="st">"Caucasian"</span>, positive <span class="op">=</span> <span class="st">"yes"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Classical Algorithmic Fairness Test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> data: compas</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> metric: predictive rate parity, privileged class: Caucasian, positive class: yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> alternative hypothesis: true odds ratio is not equal to 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sample estimates:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  African_American: 1.1522 [1.1143, 1.1891], p-value = 5.4523e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Asian: 0.86598 [0.11706, 1.6149], p-value = 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Hispanic: 1.0229 [0.87836, 1.1611], p-value = 0.78393</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Native_American: 1.0392 [0.25396, 1.6406], p-value = 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Other: 1.0596 [0.86578, 1.2394], p-value = 0.5621</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://koenderks.com" class="external-link">Koen Derks</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

