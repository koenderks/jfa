<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Audit Sampling: Selection — sample_selection • jfa</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Audit Sampling: Selection — sample_selection"><meta property="og:description" content="sample_selection() is used to perform statistical selection of audit samples. It offers flexible implementations of the most common audit sampling algorithms for attributes sampling and monetary unit sampling. The function returns an object of class jfaSelection which can be used with associated summary() and a plot() methods.
For more details on how to use this function, see the package vignette:
vignette('jfa', package = 'jfa')"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">jfa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.6.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/jfa.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/v1_sampling_workflow.html">Workflow: Classical audit sampling</a>
    </li>
    <li>
      <a href="../articles/v2_bayesian_sampling_workflow.html">Workflow: Bayesian audit sampling</a>
    </li>
    <li>
      <a href="../articles/v3_prior_distributions.html">Planning: Prior distributions</a>
    </li>
    <li>
      <a href="../articles/v4_selection_methodology.html">Selection: Sampling methodology</a>
    </li>
    <li>
      <a href="../articles/v5_estimating_misstatement.html">Evaluation: Estimating misstatement</a>
    </li>
    <li>
      <a href="../articles/v6_testing_misstatement.html">Evaluation: Testing misstatement</a>
    </li>
    <li>
      <a href="../articles/v7_bayes_factors_summary_statistics.html">Evaluation: Bayes factors using summary statistics</a>
    </li>
    <li>
      <a href="../articles/v8_digit_analysis.html">Auditing data: Get started</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/koenderks/jfa/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Audit Sampling: Selection</h1>
    <small class="dont-index">Source: <a href="https://github.com/koenderks/jfa/blob/HEAD/R/sample_selection.R" class="external-link"><code>R/sample_selection.R</code></a></small>
    <div class="hidden name"><code>sample_selection.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>sample_selection()</code> is used to perform statistical selection of audit samples. It offers flexible implementations of the most common audit sampling algorithms for attributes sampling and monetary unit sampling. The function returns an object of class <code>jfaSelection</code> which can be used with associated <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> and a <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> methods.</p>
<p>For more details on how to use this function, see the package vignette:
<code><a href="../articles/jfa.html">vignette('jfa', package = 'jfa')</a></code></p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sample_selection</span><span class="op">(</span><span class="va">data</span>, <span class="va">size</span>, units <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'items'</span>, <span class="st">'values'</span><span class="op">)</span>,</span>
<span>          method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'interval'</span>, <span class="st">'cell'</span>, <span class="st">'random'</span>, <span class="st">'sieve'</span><span class="op">)</span>, values <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>          order <span class="op">=</span> <span class="cn">NULL</span>, decreasing <span class="op">=</span> <span class="cn">FALSE</span>, randomize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>          replace <span class="op">=</span> <span class="cn">FALSE</span>, start <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>a data frame containing the population data.</p></dd>


<dt>size</dt>
<dd><p>an integer larger than 0 specifying the number of units to select. Can also be an object of class <code>jfaPlanning</code>.</p></dd>


<dt>units</dt>
<dd><p>a character specifying the type of sampling units. Possible options are <code>items</code> (default) for selection on the level of items (rows) or <code>values</code> for selection on the level of monetary units.</p></dd>


<dt>method</dt>
<dd><p>a character specifying the sampling algorithm. Possible options are <code>interval</code> (default) for fixed interval sampling, <code>cell</code> for cell sampling, <code>random</code> for random sampling, or <code>sieve</code> for modified sieve sampling.</p></dd>


<dt>values</dt>
<dd><p>a character specifying the name of a column in <code>data</code> containing the book values of the items.</p></dd>


<dt>order</dt>
<dd><p>a character specifying the name of a column in <code>data</code> containing the ranks of the items. The items in the <code>data</code> are ordered according to these values in the order indicated by <code>decreasing</code>.</p></dd>


<dt>decreasing</dt>
<dd><p>a logical specifying whether to order the items from smallest to largest. Only used if <code>order</code> is specified.</p></dd>


<dt>randomize</dt>
<dd><p>a logical specifying if items should be randomly shuffled prior to selection. Note that <code>randomize = TRUE</code> overrules <code>order</code>.</p></dd>


<dt>replace</dt>
<dd><p>a logical specifying if sampling units should be selected with replacement. Only used for method <code>random</code>.</p></dd>


<dt>start</dt>
<dd><p>an integer larger than 0 specifying index of the unit that should be selected. Only used for method <code>interval</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An object of class <code>jfaSelection</code> containing:</p>
<dl><dt>data</dt>
<dd><p>a data frame containing the population data.</p></dd>

<dt>sample</dt>
<dd><p>a data frame containing the selected data sample.</p></dd>

<dt>n.req</dt>
<dd><p>an integer giving the requested sample size.</p></dd>

<dt>n.units</dt>
<dd><p>an integer giving the number of obtained sampling units.</p></dd>

<dt>n.items</dt>
<dd><p>an integer giving the number of obtained sample items.</p></dd>

<dt>N.units</dt>
<dd><p>an integer giving the number of sampling units in the population data.</p></dd>

<dt>N.items</dt>
<dd><p>an integer giving the number of items in the population data.</p></dd>

<dt>interval</dt>
<dd><p>if <code>method = 'interval'</code>, a numeric value giving the size of the selection interval.</p></dd>

<dt>units</dt>
<dd><p>a character indicating the type of sampling units.</p></dd>

<dt>method</dt>
<dd><p>a character indicating the sampling algorithm.</p></dd>

<dt>values</dt>
<dd><p>if <code>values</code> is specified, a character indicating the book value column.</p></dd>

<dt>start</dt>
<dd><p>if <code>method = 'interval'</code>, an integer giving the index of the selected unit in each interval.</p></dd>

<dt>data.name</dt>
<dd><p>a character indicating the name of the population data.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>This section elaborates on the possible options for the <code>units</code> argument:</p>
<ul><li><p><code>items</code>:  In attributes sampling each item in the population is a sampling unit. An item with a book value of $5000 is therefore equally likely to be selected as an item with a book value of $500.</p></li>
<li><p><code>values</code>: In monetary unit sampling each monetary unit in the population is a sampling unit. An item with a book value of $5000 is therefore ten times more likely to be selected as an item with a book value of $500.</p></li>
</ul><p>This section elaborates on the possible options for the <code>method</code> argument:</p>
<ul><li><p><code>interval</code>: In fixed interval sampling the sampling units are divided into a number of equally large intervals. In each interval, a single sampling unit is selected according to a fixed starting point (specified by <code>start</code>).</p></li>
<li><p><code>cell</code>:     In cell sampling the sampling units in the population are divided into a number (equal to the sample size) of equally large intervals. In each interval, a single sampling unit is selected randomly.</p></li>
<li><p><code>random</code>:   In random sampling all sampling units are drawn with equal probability.</p></li>
<li><p><code>sieve</code>:    In modified sieve sampling items are selected with the largest sieve ratio (Hoogduin, Hall, &amp; Tsay, 2010).</p></li>
</ul></div>
    <div id="references">
    <h2>References</h2>
    <p>Hoogduin, L. A., Hall, T. W., &amp; Tsay, J. J. (2010). Modified sieve sampling: A method for single-and multi-stage probability-proportional-to-size sampling. <em>Auditing: A Journal of Practice &amp; Theory</em>, 29(1), 125-148.</p>
<p>Leslie, D. A., Teitlebaum, A. D., &amp; Anderson, R. J. (1979). <em>Dollar-unit Sampling: A Practical Guide for Auditors</em>. Copp Clark Pitman; Belmont, Calif.: distributed by Fearon-Pitman.</p>
<p>Wampler, B., &amp; McEacharn, M. (2005). Monetary-unit sampling using Microsoft Excel. <em>The CPA journal</em>, 75(5), 36.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="auditPrior.html">auditPrior</a></code> <code><a href="planning.html">planning</a></code> <code><a href="evaluation.html">evaluation</a></code> <code><a href="report.html">report</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Koen Derks, <a href="mailto:k.derks@nyenrode.nl">k.derks@nyenrode.nl</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"BuildIt"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Select 100 items using random sampling</span></span></span>
<span class="r-in"><span><span class="fu">sample_selection</span><span class="op">(</span>data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="fl">100</span>, method <span class="op">=</span> <span class="st">"random"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Audit Sample Selection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> data:  BuildIt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> number of sampling units = 100, number of items = 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sample selected via method 'items' + 'random'</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Select 150 monetary units using fixed interval sampling</span></span></span>
<span class="r-in"><span><span class="fu">sample_selection</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">BuildIt</span>, size <span class="op">=</span> <span class="fl">150</span>, units <span class="op">=</span> <span class="st">"values"</span>,</span></span>
<span class="r-in"><span>  method <span class="op">=</span> <span class="st">"interval"</span>, values <span class="op">=</span> <span class="st">"bookValue"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Audit Sample Selection</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> data:  BuildIt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> number of sampling units = 150, number of items = 150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sample selected via method 'values' + 'interval'</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Koen Derks.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

