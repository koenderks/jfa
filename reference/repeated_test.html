<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function analyzes the frequency with which values get
repeated within a set of numbers. Unlike Benford's law, and its
generalizations, this approach examines the entire number at once, not only
the first or last digit(s)."><title>Auditing Data: Repeated Values Test — repeated_test • jfa</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Auditing Data: Repeated Values Test — repeated_test"><meta property="og:description" content="This function analyzes the frequency with which values get
repeated within a set of numbers. Unlike Benford's law, and its
generalizations, this approach examines the entire number at once, not only
the first or last digit(s)."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">jfa</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/jfa.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/v1-audit-sampling.html">Audit sampling: Get started</a>
    <a class="dropdown-item" href="../articles/v2-audit-sampling-workflow.html">Audit sampling: Classical sampling workflow</a>
    <a class="dropdown-item" href="../articles/v3-audit-sampling-bayesian-workflow.html">Audit sampling: Bayesian sampling workflow</a>
    <a class="dropdown-item" href="../articles/v4-audit-sampling-prior-distributions.html">Audit sampling: Creating a prior distribution</a>
    <a class="dropdown-item" href="../articles/v5-audit-sampling-planning.html">Audit sampling: Planning a sample</a>
    <a class="dropdown-item" href="../articles/v6-audit-sampling-selection.html">Audit sampling: Selecting a sample</a>
    <a class="dropdown-item" href="../articles/v7-audit-sampling-evaluation.html">Audit sampling: Evaluating a sample</a>
    <a class="dropdown-item" href="../articles/v8-data-auditing.html">Data auditing: Get started</a>
    <a class="dropdown-item" href="../articles/v9-auditing-data-digit-analysis.html">Auditing data: Digit analysis</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/koenderks/jfa/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Auditing Data: Repeated Values Test</h1>
      <small class="dont-index">Source: <a href="https://github.com/koenderks/jfa/blob/HEAD/R/repeated_test.R" class="external-link"><code>R/repeated_test.R</code></a></small>
      <div class="d-none name"><code>repeated_test.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function analyzes the frequency with which values get
repeated within a set of numbers. Unlike Benford's law, and its
generalizations, this approach examines the entire number at once, not only
the first or last digit(s).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">repeated_test</span><span class="op">(</span><span class="va">x</span>, check <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'last'</span>, <span class="st">"lasttwo"</span>, <span class="st">"all"</span><span class="op">)</span>,</span>
<span>              method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"af"</span>, <span class="st">"entropy"</span><span class="op">)</span>, samples <span class="op">=</span> <span class="fl">2000</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>a numeric vector of values from which the digits should be
analyzed.</p></dd>


<dt>check</dt>
<dd><p>which digits to shuffle during the procedure. Can be
<code>last</code> or <code>lasttwo</code>.</p></dd>


<dt>method</dt>
<dd><p>which statistics is used. Defaults to <code>af</code> for average
frequency, but can also be <code>entropy</code> for entropy.</p></dd>


<dt>samples</dt>
<dd><p>how many samples to use in the bootstraping procedure.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class <code>jfaRv</code> containing:</p>
<dl><dt>x</dt>
<dd><p>input data.</p></dd>

<dt>frequencies</dt>
<dd><p>frequencies of observations in <code>x</code>.</p></dd>

<dt>samples</dt>
<dd><p>vector of simulated samples.</p></dd>

<dt>integers</dt>
<dd><p>counts for extracted integers.</p></dd>

<dt>decimals</dt>
<dd><p>counts for extracted decimals.</p></dd>

<dt>n</dt>
<dd><p>the number of observations in <code>x</code>.</p></dd>

<dt>statistic</dt>
<dd><p>the value the average frequency or entropy statistic.</p></dd>

<dt>p.value</dt>
<dd><p>the p-value for the test.</p></dd>

<dt>cor.test</dt>
<dd><p>correlation test for the integer portions of the number
  versus the decimals portions of the number.</p></dd>

<dt>method</dt>
<dd><p>method used.</p></dd>

<dt>check</dt>
<dd><p>checked digits.</p></dd>

<dt>data.name</dt>
<dd><p>a character string giving the name(s) of the data.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>To determine whether the data show an excessive amount of bunching,
  the null hypothesis that <code>x</code> does not contain an unexpected amount of
  repeated values is tested against the alternative hypothesis that <code>x</code>
  has more repeated values than expected. The statistic can either be the
  average frequency (\(AF = sum(f_i^2)/sum(f_i))\) of the data or the
  entropy (\(E = - sum(p_i * log(p_i))\), with \(p_i=f_i/n\)) of the
  data. Average frequency and entropy are highly correlated, but the average
  frequency is often more interpretable. For example, an average frequency of
  2.5 means that, on average, your observations contain a value that appears
  2.5 times in the data set.To quantify what is expected, this test requires
  the assumption that the integer portions of the numbers are not associated
  with their decimal portions.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Simohnsohn, U. (2019, May 25). Number-Bunching: A New Tool for
  Forensic Data Analysis. Retrieved from <a href="https://datacolada.org/77" class="external-link">https://datacolada.org/77</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="digit_test.html">digit_test</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Koen Derks, <a href="mailto:k.derks@nyenrode.nl">k.derks@nyenrode.nl</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Repeated values analysis shuffling last digit</span></span></span>
<span class="r-in"><span><span class="fu">repeated_test</span><span class="op">(</span><span class="va">x</span>, check <span class="op">=</span> <span class="st">"last"</span>, method <span class="op">=</span> <span class="st">"af"</span>, samples <span class="op">=</span> <span class="fl">2000</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 	Repeated values test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> data:  x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n = 50, AF = 1, p-value = 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> alternative hypothesis: average frequency in data is greater than for random data.</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Koen Derks.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

